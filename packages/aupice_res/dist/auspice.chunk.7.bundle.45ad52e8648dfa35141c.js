(window.webpackJsonp=window.webpackJsonp||[]).push([[7,8],{1144:function(e,t,n){"use strict";n.r(t);var r,o=n(1),i=n.n(o),a=n(234),l=n.n(a),s=n(796),c=n(797),u=n(827),p=n(822),f=function(e){var t=e.sidebarOpen,n=e.mobileDisplay,r=e.handler,o={visibility:n?"visible":t?"hidden":"visible",width:n?60:14,height:n?60:44,position:"absolute",top:n?15:4,left:n?"auto":0,right:n?20:"auto",zIndex:9e3,backgroundColor:n?p.c:p.i,boxShadow:n?"2px 4px 10px 1px rgba(0, 0, 0, 0.15)":"0px 0px 5px 1px rgba(0, 0, 0, 0.2)",cursor:"pointer",padding:0,transition:"top 0.3s ease-out, left 0.3s ease-out, width 0.3s ease-out, height 0.3s ease-out",borderRadius:n?"45px":"0px 6px 6px 0px"},a={visibility:n?"visible":t?"hidden":"visible",position:"absolute",width:30,height:30,top:"50%",left:"50%",lineHeight:"30px",textAlign:"center",transform:"translate(-50%,-50%)",marginLeft:"auto",marginRight:"auto",verticalAlign:"middle",color:n?"#FFFFFF":"#444",fontSize:n?26:12},l=i.a.createElement(u.p,null);return t&&!n?l=i.a.createElement(u.d,null):t||n?t&&n?l=i.a.createElement(u.p,null):!t&&n&&(l=i.a.createElement(u.o,null)):l=i.a.createElement(u.e,null),i.a.createElement("div",{style:o,onClick:r},i.a.createElement("div",{style:a},l))},d=n(817),h=n(843);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===y(i)?i:String(i)),r)}var o,i}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=Object(s.b)((function(e){return{metadata:e.metadata}}))(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(a,e);var t,n,r,o=g(a);function a(){return m(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.t;return i.a.createElement(i.a.Fragment,null,function(e,t){var n=t.buildUrl;if("string"==typeof n){var r=n.match(/(https?:\/\/)?(www\.)?github.com\/([^/]+)/);if(r)return i.a.createElement(S,{alt:"avatar",width:"28",src:"https://github.com/".concat(r[3],".png?size=200")})}return null}(0,this.props.metadata),function(e,t){if(Object.prototype.hasOwnProperty.call(t,"buildUrl")){var n=t.buildUrl;if("string"==typeof n&&(n.startsWith("https://")||n.startsWith("http://")||n.startsWith("www.")))return i.a.createElement("span",null,e("Built with")," ",i.a.createElement(x,{url:n},n.replace(/^(http[s]?:\/\/)/,"").replace(/^www\./,"").replace(/^github.com\//,"")),". ")}return null}(e,this.props.metadata),function(e,t){var n;return Object.prototype.hasOwnProperty.call(t,"maintainers")&&(n=t.maintainers,Array.isArray(n)&&n.length)?i.a.createElement("span",null,e("Maintained by")+" ",n.map((function(e,t){return i.a.createElement(i.a.Fragment,{key:e.name},e.url?i.a.createElement(x,{url:e.url},e.name):e.name,t===n.length-1?"":t===n.length-2?" and ":", ")})),". "):null}(e,this.props.metadata),function(e,t){if(!Array.isArray(t.dataProvenance))return null;var n,r=t.dataProvenance.filter((function(e){return"object"===y(e)})).filter((function(e){return Object.prototype.hasOwnProperty.call(e,"name")})).map((function(e){if("GISAID"===e.name.toUpperCase())return i.a.createElement(x,{url:"https://www.gisaid.org",key:e.name},i.a.createElement("img",{key:e.name,src:"https://www.gisaid.org/fileadmin/gisaid/img/schild.png",alt:"gisaid-logo",width:"65"}));var t=function(e){try{return new URL(e).href}catch(e){return!1}}(e.url);return t?i.a.createElement(x,{url:t,key:e.name},e.name):e.name}));return r.length?i.a.createElement("span",null,e("Enabled by data from")+" ",(n=r).length<2?n:Array.from({length:2*n.length-1}).map((function(e,t){return t%2==0?n[t/2]:t===2*n.length-3?" and ":", "})),"."):null}(e,this.props.metadata))}}])&&b(t.prototype,n),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||r,S=c.c.img.withConfig({displayName:"byline__AvatarImg",componentId:"sc-wamdqn-0"})(["margin-right:5px;margin-bottom:2px;"]);var O=c.c.a.withConfig({displayName:"byline__BylineLink",componentId:"sc-wamdqn-1"})(["font-family:",";font-size:15;font-weight:500;"],p.d);function x(e){var t=e.url,n=e.children;return i.a.createElement(O,{rel:"noopener noreferrer",href:t,target:"_blank"},n)}var C,T=Object(d.a)()(j),E=n(858),_=n(825),D=n(847),I=n(818),N=n(866),z=n(852);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||R(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===P(i)?i:String(i)),r)}var o,i}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U,V=function(e){var t=e.id;return i.a.createElement("span",{style:{fontSize:"2rem",fontWeight:300,padding:"0px 4px 0px 2px",cursor:"help"},"data-tip":!0,"data-for":t},"∩",i.a.createElement(N.c,{id:t},"Groups of filters are combined by intersection"))},Q=function(){return i.a.createElement("span",{style:{fontSize:"1.5rem",padding:"0px 3px 0px 2px"}},"∪")},q=i.a.createElement("span",{style:{fontSize:"2rem",fontWeight:300,padding:"0px 0px 0px 2px"}},"{"),X=i.a.createElement("span",{style:{fontSize:"2rem",fontWeight:300,padding:"0px 2px"}},"}"),Z=i.a.createElement("span",{style:{fontSize:"1.8rem",fontWeight:300,padding:"0px 2px"}},"{"),J=i.a.createElement("span",{style:{fontSize:"1.8rem",fontWeight:300,padding:"0px 2px"}},"}"),K=Object(s.b)((function(e){return{browserDimensions:e.browserDimensions.browserDimensions,filters:e.controls.filters,animationPlayPauseButton:e.controls.animationPlayPauseButton,metadata:e.metadata,nodes:e.tree.nodes,visibleStateCounts:e.tree.visibleStateCounts,totalStateCounts:e.tree.totalStateCounts,visibility:e.tree.visibility,selectedClade:e.tree.selectedClade,dateMin:e.controls.dateMin,dateMax:e.controls.dateMax,absoluteDateMin:e.controls.absoluteDateMin,absoluteDateMax:e.controls.absoluteDateMax,branchLengthsToDisplay:e.controls.branchLengthsToDisplay,measurementsFilters:e.controls.measurementsFilters,measurementsFields:e.measurements.collectionToDisplay.fields}}))(C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(a,e);var t,n,r,o=H(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,e)}return t=a,(n=[{key:"createIndividualBadge",value:function(e){var t=this,n=e.filterName,r=e.item,o=e.label,a=e.onHoverMessage;return i.a.createElement(N.a,{key:r.value,id:String(r.value),remove:function(){t.props.dispatch(Object(_.a)("remove",n,[r.value]))},canMakeInactive:!0,onHoverMessage:a,active:r.active,activate:function(){t.props.dispatch(Object(_.a)("add",n,[r.value]))},inactivate:function(){t.props.dispatch(Object(_.a)("inactivate",n,[r.value]))}},o)}},{key:"createFilterBadgesForTime",value:function(){var e=this;return[i.a.createElement(N.a,{key:"timefilter",id:"timefilter",onHoverMessage:"Filtering to data sampled in this date range",remove:function(){return e.props.dispatch(Object(_.c)({newMin:e.props.absoluteDateMin,newMax:e.props.absoluteDateMax}))}},"".concat(Object(E.c)(this.props.dateMin)," to ").concat(Object(E.c)(this.props.dateMax)))]}},{key:"createFilterBadges",value:function(e){var t=this,n=e===I.M?"sample":e,r=this.props.filters[e].length,o=1===r?"Filtering data to this ".concat(n):"Filtering data to these ".concat(r," ").concat(Object(E.b)(n));return this.props.filters[e].sort((function(e,t){return e.value<t.value?-1:e.value>t.value?1:0})).map((function(n){var r="".concat(n.value);return e!==I.M&&(r+=" (".concat(t.props.totalStateCounts[e].get(n.value),")")),t.createIndividualBadge({filterName:e,item:n,label:r,onHoverMessage:o})}))}},{key:"createFilterBadgesForGenotype",value:function(){var e=this,t=this.props.filters[I.y],n=new Set(t.filter((function(e){return e.active})).map((function(e){return e.value})));return Object(z.b)(t.map((function(e){return e.value}))).map((function(t){var r="nuc"===t[0];if(1===t[2].size){var o=k(t[2])[0],i=r?"Filtering to sequences with nucleotide ".concat(o," at base ").concat(t[1]):"Filtering to sequences with ".concat(Object(I.z)(o)," at codon ").concat(t[1]," in ").concat(t[0]),a="".concat(t[0]," ").concat(t[1]).concat(o),l={active:n.has(a),value:a};return e.createIndividualBadge({filterName:I.y,item:l,label:l.value,onHoverMessage:i})}var s=k(t[2]),c=s.map((function(e){return"".concat(t[0]," ").concat(t[1]).concat(e)})),u=s.filter((function(e,t){return n.has(c[t])})),p=function(e){return e.length>1?"".concat(e.slice(0,-1).join(", ")," or ").concat(e[e.length-1]):e[0]},f=r?"Filtering to sequences with nucleotides ".concat(p(u)," at position ").concat(t[1]):"Filtering to sequences with ".concat(p(u.map((function(e){return Object(I.z)(e)})))," at codon ").concat(t[1]," in ").concat(t[0]);return s.map((function(r){var o="".concat(t[0]," ").concat(t[1]).concat(r),i={active:n.has(o),value:o};return e.createIndividualBadge({filterName:I.y,item:i,label:i.value,onHoverMessage:f})}))}))}},{key:"render",value:function(){var e=this,t=this.props.t,n=[];return Reflect.ownKeys(this.props.filters).filter((function(t){return e.props.filters[t].length>0})).forEach((function(t){t===I.M?n.push({name:"sample",badges:e.createFilterBadges(I.M)}):t===I.y?n.push({name:"genotype",badges:e.createFilterBadgesForGenotype()}):n.push({name:t,badges:e.createFilterBadges(t)})})),this.props.dateMin===this.props.absoluteDateMin&&this.props.dateMax===this.props.absoluteDateMax||n.push({name:"temporal",badges:this.createFilterBadgesForTime()}),n.length||Object.keys(this.props.measurementsFilters).length?i.a.createElement(i.a.Fragment,null,n.length>0&&i.a.createElement(i.a.Fragment,null,t("Filtered to")+" ",n.map((function(e,t){var n=e.badges.length>1,r=0!==t;return i.a.createElement("span",{style:{fontSize:"2rem",padding:"0px 2px"},key:e.name},r&&i.a.createElement(V,{id:"intersect"+t}),n&&q," ",e.badges.map((function(t,n){return Array.isArray(t)?i.a.createElement("span",{key:t.map((function(e){return e.props.id})).join("")},Z,t.map((function(e,n){return i.a.createElement("span",{key:e.props.id},e,n!==t.length-1&&i.a.createElement(Q,null))})),J,n!==e.badges.length-1&&", "):i.a.createElement("span",{key:t.props.id},t,n!==e.badges.length-1&&", ")})),n&&X)})),". "),Object.keys(this.props.measurementsFilters).length>0&&i.a.createElement(i.a.Fragment,null,i.a.createElement("br",null),t("Measurements filtered to")+" ",Object.entries(this.props.measurementsFilters).map((function(t,n){var r=A(t,2),o=r[0],a=r[1],l=e.props.measurementsFields.get(o).title;return i.a.createElement("span",{key:o},q,"".concat(l,": "),k(a).map((function(t,n){var r=A(t,2),s=r[0],c=r[1].active;return i.a.createElement("span",{key:s,style:{fontSize:"2rem",padding:"0px 2px"}},i.a.createElement(N.a,{active:c,canMakeInactive:!0,id:String(s),remove:function(){return e.props.dispatch(Object(D.e)(o,s))},activate:function(){return e.props.dispatch(Object(D.a)(o,s,!0))},inactivate:function(){return e.props.dispatch(Object(D.a)(o,s,!1))},onHoverMessage:"Filtering measurements to this ".concat(l)},s),n<a.size-1&&",")})),X,n<Object.keys(e.props.measurementsFilters).length-1&&i.a.createElement(V,null))})))):null}}])&&F(t.prototype,n),r&&F(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||C,$=Object(d.a)()(K);function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return(t=ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ie(r.key),r)}}function ie(e){var t=function(e,t){if("object"!==ee(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ee(t)?t:String(t)}function ae(e,t){return(ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var o=ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return se(this,n)}}function se(e,t){if(t&&("object"===ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=Object(s.b)((function(e){return{browserWidth:e.browserDimensions.browserDimensions.width,animationPlayPauseButton:e.controls.animationPlayPauseButton,metadata:e.metadata,nodes:e.tree.nodes,visibleStateCounts:e.tree.visibleStateCounts,filters:e.controls.filters,branchLengthsToDisplay:e.controls.branchLengthsToDisplay,visibility:e.tree.visibility}}))(U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(a,e);var t,n,r,o=le(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this.props.t;if(!this.props.metadata||!this.props.nodes||!this.props.visibility)return null;var t,n,r,o=(t=this.props.width,n=this.props.browserWidth,r=28,n<1e3&&(r=27),n<800&&(r=26),n<600&&(r=25),n<400&&(r=24),{base:{width:t+34,display:"inline-block",maxWidth:t,marginTop:0},title:{fontFamily:p.o,fontSize:r,marginLeft:0,marginTop:0,marginBottom:5,fontWeight:500,color:p.a,letterSpacing:"-0.5px",lineHeight:1.2},n:{fontFamily:p.d,fontSize:14,marginLeft:2,marginTop:5,marginBottom:5,fontWeight:500,color:p.h,lineHeight:1.4},byline:{fontFamily:p.d,fontSize:15,marginLeft:2,marginTop:5,marginBottom:5,fontWeight:500,color:"#555",lineHeight:1.4,verticalAlign:"middle"}}),a="Pause"===this.props.animationPlayPauseButton,l=!a&&!this.props.selectedStrain;return i.a.createElement(h.a,{center:!0,infocard:!0},i.a.createElement("div",{style:o.base},i.a.createElement("div",{width:this.props.width,style:o.title},this.props.metadata.title||""),i.a.createElement("div",{width:this.props.width,style:o.byline},i.a.createElement(T,null)),i.a.createElement("div",{width:this.props.width,style:o.n},a?e("Animation in progress")+". ":null,l&&i.a.createElement(i.a.Fragment,null,Object(E.a)(ne(ne({},this.props),{},{mainTreeNumTips:this.props.metadata.mainTreeNumTips})),i.a.createElement($,null)))))}}])&&oe(t.prototype,n),r&&oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||U;var pe=Object(d.a)()(ue),fe=n(922),de=Object(s.b)((function(e){return{tree:e.tree,treeToo:e.treeToo,dateMinNumeric:e.controls.dateMinNumeric,dateMaxNumeric:e.controls.dateMaxNumeric,quickdraw:e.controls.quickdraw,colorBy:e.controls.colorBy,colorByConfidence:e.controls.colorByConfidence,layout:e.controls.layout,scatterVariables:e.controls.scatterVariables,temporalConfidence:e.controls.temporalConfidence,distanceMeasure:e.controls.distanceMeasure,mutType:e.controls.mutType,explodeAttr:e.controls.explodeAttr,colorScale:e.controls.colorScale,metadata:e.metadata,showTreeToo:e.controls.showTreeToo,showTangle:e.controls.showTangle,panelsToDisplay:e.controls.panelsToDisplay,selectedBranchLabel:e.controls.selectedBranchLabel,canRenderBranchLabels:e.controls.canRenderBranchLabels,showAllBranchLabels:e.controls.showAllBranchLabels,tipLabelKey:e.controls.tipLabelKey,narrativeMode:e.narrative.display,animationPlayPauseButton:e.controls.animationPlayPauseButton}}))(fe.a),he=n(803),ye=n.n(he),me=n(804),be=(n(805),n(806),n(957)),ve=n.n(be),ge=n(879),we=n.n(ge),Me=n(959),je=n.n(Me),Se=n(1157),Le=(n(841),n(960)),Oe=n.n(Le),xe=n(963),Ce=n.n(xe),Te=n(1117),Ee=n(1163),_e=n(1164),De=n(1162),Ie=Object(Te.a)().x((function(e){return e.x})).y((function(e){return e.y})).curve(Ee.a),Ne=function(e,t,n,r,o,i,a,l,s){if("hidden"===a)return[];var c=Oe()(s,(function(t){return t>e})),u=Ce()(s,(function(e){return e<t}));if(-1===c||-1===u)return[];var p,f,d=l.slice(c,u+1);if(c>0){var h=s[c]-s[c-1],y=(e-s[c-1])/h,m=(s[c]-e)/h;p={x:m*l[c-1].x+y*l[c].x,y:m*l[c-1].y+y*l[c].y}}if(u<l.length-1){var b=s[u+1]-s[u],v=(t-s[u])/b,g=(s[u+1]-t)/b;f={x:g*l[u].x+v*l[u+1].x,y:g*l[u].y+v*l[u+1].y}}return p&&d.unshift(p),f&&d.push(f),d},ze=function(e){var t=[];return e.forEach((function(e){e.arcs.forEach((function(e){t.push(e)}))})),t},Pe=function(e,t,n,r,o,i,a,l,s,c){var u,p=n.selectAll("transmissions").data(t).enter().append("path").attr("d",(function(e){return Ie(Ne(i,a,e.originCoords,e.destinationCoords,e.originNumDate,e.destinationNumDate,e.visible,e.bezierCurve,e.bezierDates))})).attr("fill","none").attr("stroke-opacity",.6).attr("stroke-linecap","round").attr("stroke",(function(e){return e.color})).attr("stroke-width",1),f=o[0].tipCount,d=I.t/Math.sqrt(we()([Math.sqrt(f*o.length),I.s]));if(l){var h=ze(e);h.forEach((function(t){t.outerRadius=Math.sqrt(e[t.demeDataIdx].count)*d})),u=n.selectAll("demes").data(h).enter().append("path").attr("d",(function(e){return Object(_e.a)()(e)})).style("stroke","none").style("fill-opacity",.65).style("fill",(function(e){return e.color})).style("stroke-opacity",.85).style("stroke",(function(e){return e.color})).style("pointer-events","all").attr("transform",(function(t){return"translate("+e[t.demeDataIdx].coords.x+","+e[t.demeDataIdx].coords.y+")"})).on("mouseover",(function(t){c(Object(_.f)({geoFilter:[s,e[t.demeDataIdx].name]}))})).on("mouseout",(function(){c(Object(_.f)())}))}else u=n.selectAll("demes").data(e).enter().append("circle").attr("r",(function(e){return d*Math.sqrt(e.count)})).style("stroke","none").style("fill-opacity",.65).style("fill",(function(e){return e.color})).style("stroke-opacity",.85).style("stroke",(function(e){return e.color})).style("pointer-events","all").attr("transform",(function(e){return"translate("+e.coords.x+","+e.coords.y+")"})).on("mouseover",(function(e){c(Object(_.f)({geoFilter:[s,e.name]}))})).on("mouseout",(function(){c(Object(_.f)())}));return{demes:u,transmissions:p}},Ae=n(966),ke=n.n(Ae),Re=n(967),Be=n.n(Re),Fe=n(892),Ye=n(834),He=n(968),We=n.n(He),Ge=n(912),Ue=n.n(Ge),Ve=n(914),Qe=n.n(Ve),qe=n(915),Xe=n.n(qe),Ze=function(e,t){var n=Xe.a.get(e,t);return function(r){return n*Math.pow(r,t)*Math.pow(1-r,e-t)}},Je=function(e,t,n){var r=e.x,o=e.y,i=t.x,a=t.y,l=Math.sign(i-r),s=(a-o)/(i-r),c=Math.sqrt(Math.pow(a-o,2)+Math.pow(i-r,2)),u=200*Math.log(Math.pow(c,.05))+n*I.P,p=Math.sqrt(Math.pow(u,2)+Math.pow(c,2)/4);return{x:r+p*Math.cos(Math.atan(2*u/c)+Math.atan(s))*l,y:o+p*Math.sin(Math.atan(2*u/c)+Math.atan(s))*l}},Ke=n(823),$e=n(828),et=n(837);function tt(e){return function(e){if(Array.isArray(e))return ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||rt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){if(e){if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var it,at,lt=function(e,t,n){return n.latLngToLayerPoint(new L.LatLng(e,t))},st=function(e,t,n){var r={};return e.forEach((function(e,o){if(!e.children){var i=Object(Ke.h)(e,n);i&&(r[i]||(r[i]=[]),t[o]!==I.a&&r[i].push(e))}})),r},ct=function(e,t,n,r){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=Object($e.f)(n),l={},s=t.length;i?(o=i,t.forEach((function(e,t){l[e]=t,o[t]._count=0})),o[s]._count=0):(o=t.map((function(e,t){return l[e]=t,{innerRadius:0,_count:0}}))).push({innerRadius:0,_count:0}),e.forEach((function(e){var t=a?e.currentGt:Object(Ke.h)(e,n),i=l[t];void 0===i&&(i=s),o[i]._count++,o[i].color||(o[i].color=r[e.arrayIdx])}));var c=0;return o.forEach((function(t){t.startAngle=c,c+=2*Math.PI*t._count/e.length,t.endAngle=c,t.startAngle===t.endAngle&&(t.color="")})),o},ut=function(e,t,n){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:15,o=Je(e,t,n),i=[e,o,t],a=We()(i.length),l=Ue()(0,1,r),s=[];return We()(r).forEach((function(e){s[e]={x:0,y:0}})),a.forEach((function(e){var t=Ze(a.length-1,e),n=l.map(t),o=[i[e].x,i[e].y],c=Qe()([We()(n.length),We()(o.length)]);We()(s.length).forEach((function(e){s[e].x+=n[c[e][0]]*o[c[e][1]],s[e].y+=n[c[e+r][0]]*o[c[e+r][1]]}))})),s}(e,t,n)},pt=function(e,t,n,r,o,i,a,l,s,c,u){var p,f,d,h,y,m=Object(Ke.h)(e,r),b=Object(Ke.h)(t,r),v=n.filter((function(e){return e.key===r}))[0].demes;try{p=v[m].latitude,f=v[m].longitude}catch(e){c.add(m)}try{d=v[b].latitude,h=v[b].longitude}catch(e){c.add(b)}var g=function(e,t,n,r,o){var i=null;return(t>-360||r>-360)&&(t<360||r<360)&&Math.abs(t-r)<180&&(i=[lt(e,t,o),lt(n,r,o)]),i}(p,f+l,d,h+s,a);if(g){var w=ut(g[0],g[1],u),M=Object(Fe.a)(Object(Ke.h)(e,"num_date"),Object(Ke.h)(t,"num_date")),j=[];w.forEach((function(e,t){j.push(M(t/(w.length-1)))})),y={id:e.arrayIdx.toString()+"-"+t.arrayIdx.toString(),originNode:e,destinationNode:t,bezierCurve:w,bezierDates:j,originName:Object(Ke.h)(e,r),destinationName:Object(Ke.h)(t,r),originCoords:g[0],destinationCoords:g[1],originLatitude:p,destinationLatitude:d,originLongitude:f+l,destinationLongitude:h+s,originNumDate:Object(Ke.h)(e,"num_date"),destinationNumDate:Object(Ke.h)(t,"num_date"),color:o[e.arrayIdx],visible:i[t.arrayIdx]!==I.a?"visible":"hidden",extend:u}}return y},ft=function(e,t,n,r,o,i,a){var l=o?[-360,0,360]:[0],s=[],c={},u=new Set,p={};return e.forEach((function(e){var o=Object(Ke.h)(e,n);e.children&&e.children.forEach((function(c){var f=Object(Ke.h)(c,n);if(o&&f&&o!==f){[o,f]in p?p[[o,f]]+=1:p[[o,f]]=1;var d=p[[o,f]];l.forEach((function(o){var l=function(e,t,n,r,o,i,a,l,s,c){var u=[];return[-360,0,360].forEach((function(p){var f=pt(e,t,n,r,o,i,a,l,p,s,c);f&&u.push(f)})),u.length>0?Be()(u,(function(e){return Math.abs(e.destinationCoords.x-e.originCoords.x)})):null}(e,c,i.geoResolutions,n,r,t,a,o,u,d);l&&s.push(l)}))}}))})),s.forEach((function(e,t){c[e.id]?c[e.id].push(t):c[e.id]=[t]})),{transmissionData:s,transmissionIndices:c,demesMissingLatLongs:u}},dt=function(e,t,n,r,o,i,a,l,s,c,u,p){var f=function(e,t,n,r,o,i,a,l,s,c){var u=[],p={},f=st(e,t,n),d=o?[-360,0,360]:[0],h=i.geoResolutions.filter((function(e){return e.key===n}))[0].demes,y=0;return d.forEach((function(e){for(var t=0,n=Object.entries(f);t<n.length;t++){var o=nt(n[t],2),i=o[0],d=o[1],m=0,b=0,v=!0;h[i]?(m=h[i].latitude,b=h[i].longitude+e):(v=!1,console.warn("Warning: Lat/long missing from metadata for",i));var g=lt(m,b,a);if(b>-360&&b<360&&!0===v){var w={name:i,count:d.length,latitude:m,longitude:b,coords:g};l?function(){w.arcs=ct(d,s,c,r);var e=u.length;w.arcs.forEach((function(t){t.demeDataIdx=e}))}():w.color=Object(Ye.d)(d,r),u.push(w),p[i]?p[i].push(y):p[i]=[y],y+=1}}})),{demeData:u,demeIndices:p}}(e,t,n,r,o,i,a,l,s,c),d=f.demeData,h=f.demeIndices,y=[],m={},b=new Set;if(u){var v=ft(e,t,n,r,o,i,a);y=v.transmissionData,m=v.transmissionIndices,b=v.demesMissingLatLongs}var g=tt(b).filter((function(e){return"unknown"!==e.toLowerCase()}));return g.size&&p(Object(et.a)({message:"The following demes are missing lat/long information",details:tt(g).join(", ")})),{demeData:d,transmissionData:y,demeIndices:h,transmissionIndices:m,demesMissingLatLongs:b}},ht=function(e,t,n,r,o,i,a,l,s,c,u){return{newDemes:e?function(e,t,n,r,o,i,a,l,s){for(var c=e.slice(),u=st(n,r,o),p=function(){var e=nt(d[f],2),n=e[0],r=e[1];t[n]&&t[n].forEach((function(e){c[e].count=r.length,a?c[e].arcs=ct(r,s,l,i,c[e].arcs):c[e].color=Object(Ye.d)(r,i)}))},f=0,d=Object.entries(u);f<d.length;f++)p();return c}(e,n,o,i,a,l,s,c,u):e,newTransmissions:t&&t.length?function(e,t,n,r,o,i){var a=e.slice();return n.forEach((function(e){e.children&&e.children.forEach((function(n){var l=Object(Ke.h)(e,o),s=Object(Ke.h)(n,o);if(l&&s&&l!==s){var c=e.arrayIdx.toString()+"-"+n.arrayIdx.toString(),u=i[e.arrayIdx],p=r[n.arrayIdx]!==I.a?"visible":"hidden";try{t[c].forEach((function(e){a[e].color=u,a[e].visible=p}))}catch(e){console.warn("Error trying to access ".concat(c," in transmissionIndices. Map transmissions may be wrong."))}}}))})),a}(t,r,o,i,a,l):t}},yt=(n(838),n(848)),mt=n(884);n(916);function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ct(r.key),r)}}function Mt(e,t){return(Mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return St(this,n)}}function St(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lt(e)}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t,n){return(t=Ct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e){var t=function(e,t){if("object"!==bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===bt(t)?t:String(t)}var Tt,Et=Object(s.b)((function(e){return{branchLengthsToDisplay:e.controls.branchLengthsToDisplay,absoluteDateMin:e.controls.absoluteDateMin,absoluteDateMax:e.controls.absoluteDateMax,treeVersion:e.tree.version,treeLoaded:e.tree.loaded,nodes:e.tree.nodes,nodeColors:e.tree.nodeColors,visibility:e.tree.visibility,visibilityVersion:e.tree.visibilityVersion,metadata:e.metadata,colorScaleVersion:e.controls.colorScale.version,map:e.map,geoResolution:e.controls.geoResolution,mapTriplicate:e.controls.mapTriplicate,dateMinNumeric:e.controls.dateMinNumeric,dateMaxNumeric:e.controls.dateMaxNumeric,panelLayout:e.controls.panelLayout,colorBy:e.controls.colorScale.colorBy,narrativeMode:e.narrative.display,pieChart:!e.controls.colorScale.continuous&&e.controls.geoResolution!==e.controls.colorScale.colorBy,legendValues:e.controls.colorScale.legendValues,showTransmissionLines:e.controls.showTransmissionLines}}))((at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mt(e,t)}(a,e);var t,n,r,o=jt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),xt(Lt(t=o.call(this,e)),"getStyles",(function(){return{resetZoomButton:{zIndex:100,position:"absolute",right:5,top:0,cursor:"pointer",color:p.a}}})),t.state={map:null,d3DOMNode:null,d3elems:null,responsive:null,demeData:null,transmissionData:null,demeIndices:null,transmissionIndices:null,userHasInteractedWithMap:!1,tilesSettings:Object(I.A)()},t.fitMapBoundsToData=t.fitMapBoundsToData.bind(Lt(t)),t}return t=a,(n=[{key:"componentWillMount",value:function(){var e=this;window.L||ye()(),window.L.getMapSvg||(window.L.getMapSvg=function(t){var n=e.state.map.getSize(),r=e.state.map._getMapPanePos();je.a.toSvg(e.state.map.getContainer(),{width:n.x,height:n.y,filter:function(e){return"leaflet-control-container"!==e.className}}).then((function(e){t({mapSvg:e.replace("data:image/svg+xml;charset=utf-8,",""),mapDimensions:n,panOffsets:r})}))})}},{key:"componentDidMount",value:function(){this.maybeChangeSize(this.props),this.maybeRemoveAllDemesAndTransmissions(this.props)||this.maybeUpdateDemesAndTransmissions(this.props),this.maybeInvalidateMapSize(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.modulateInterfaceForNarrativeMode(e),this.maybeChangeSize(e),this.maybeRemoveAllDemesAndTransmissions(e)||this.maybeUpdateDemesAndTransmissions(e),this.maybeInvalidateMapSize(e)}},{key:"componentDidUpdate",value:function(e){null!==this.props.nodes&&(this.maybeCreateLeafletMap(),this.maybeSetupD3DOMNode(),this.maybeDrawDemesAndTransmissionsAndMoveMap(e))}},{key:"maybeInvalidateMapSize",value:function(e){!this.state.map||this.props.width===e.width&&this.props.height===e.height||(this.map_timeout&&window.clearTimeout(this.map_timeout),this.map_timeout=window.setTimeout(this.invalidateMapSize.bind(this),this.props.narrativeMode?100:750))}},{key:"invalidateMapSize",value:function(){this.state.map.invalidateSize()}},{key:"maybeCreateLeafletMap",value:function(){this.props.metadata.loaded&&!this.state.map&&document.getElementById("map")&&this.createMap()}},{key:"maybeChangeSize",value:function(e){this.props.width===e.width&&this.props.height===e.height&&this.state.responsive&&this.props.treeVersion===e.treeVersion||this.setState({responsive:{width:e.width,height:e.height}})}},{key:"maybeSetupD3DOMNode",value:function(){if(this.state.map&&this.state.responsive&&!this.state.d3DOMNode){var e=Object(Se.a)("#map svg").attr("id","d3DemesTransmissions");this.setState({d3DOMNode:e})}}},{key:"modulateInterfaceForNarrativeMode",value:function(e){this.props.narrativeMode!==e.narrativeMode&&this.state.map&&(e.narrativeMode?(L.zoomControlButtons.remove(),this.state.map.dragging.disable(),this.state.map.doubleClickZoom.disable()):(L.zoomControlButtons=L.control.zoom({position:"bottomright"}).addTo(this.state.map),this.state.map.dragging.enable(),this.state.map.doubleClickZoom.enable()))}},{key:"maybeDrawDemesAndTransmissionsAndMoveMap",value:function(e){var t=!!this.state.map,n=!!(this.props.metadata.loaded&&this.props.treeLoaded&&this.state.responsive&&this.state.d3DOMNode),r=!this.state.demeData&&!this.state.transmissionData;if(t&&n&&r){var o=dt(this.props.nodes,this.props.visibility,this.props.geoResolution,this.props.nodeColors,this.props.mapTriplicate,this.props.metadata,this.state.map,this.props.pieChart,this.props.legendValues,this.props.colorBy,this.props.showTransmissionLines,this.props.dispatch),i=o.demeData,a=o.transmissionData,l=o.demeIndices,s=o.transmissionIndices;this.moveMapAccordingToData({geoResolutionChanged:e.geoResolution!==this.props.geoResolution,visibilityChanged:e.visibility!==this.props.visibility,demeData:i,demeIndices:l});var c=Pe(i,a,this.state.d3DOMNode,this.state.map,this.props.nodes,this.props.dateMinNumeric,this.props.dateMaxNumeric,this.props.pieChart,this.props.geoResolution,this.props.dispatch,this.props.showTransmissionLines);this.setState({boundsSet:!0,d3elems:c,demeData:i,transmissionData:a,demeIndices:l,transmissionIndices:s})}}},{key:"maybeRemoveAllDemesAndTransmissions",value:function(e){var t=!!this.state.map,n=this.props.geoResolution!==e.geoResolution,r=this.props.showTransmissionLines!==e.showTransmissionLines,o=!e.treeLoaded||this.props.treeVersion!==e.treeVersion,i=e.colorScaleVersion!==this.props.colorScaleVersion;return!(!t||!(n||o||i||r)||(this.state.d3DOMNode.selectAll("*").remove(),this.setState({d3elems:null,demeData:null,transmissionData:null,demeIndices:null,transmissionIndices:null}),0))}},{key:"respondToLeafletEvent",value:function(e){var t,n,r=this;if("moveend"===e.type){if(!this.state.demeData||!this.state.transmissionData)return void window.setTimeout((function(){return r.respondToLeafletEvent(e)}),50);var o=(t=this.state.demeData,n=this.state.map,ke()(t,(function(e){return e.coords=lt(e.latitude,e.longitude,n),e}))),i=function(e,t){var n=e.slice();return n.forEach((function(e){e.originCoords=lt(e.originLatitude,e.originLongitude,t),e.destinationCoords=lt(e.destinationLatitude,e.destinationLongitude,t),e.bezierCurve=ut(e.originCoords,e.destinationCoords,e.extend)})),n}(this.state.transmissionData,this.state.map);!function(e,t,n,r,o,i){if(n){if(i){var a=ze(e);n.demes.data(a).attr("transform",(function(t){return"translate("+e[t.demeDataIdx].coords.x+","+e[t.demeDataIdx].coords.y+")"}))}else n.demes.data(e).attr("transform",(function(e){return"translate("+e.coords.x+","+e.coords.y+")"}));n.transmissions.data(t).attr("d",(function(e){return Ie(Ne(r,o,e.originCoords,e.destinationCoords,e.originNumDate,e.destinationNumDate,e.visible,e.bezierCurve,e.bezierDates))}))}}(o,i,this.state.d3elems,this.props.dateMinNumeric,this.props.dateMaxNumeric,this.props.pieChart),this.setState({demeData:o,transmissionData:i})}}},{key:"getGeoRange",value:function(e,t){var n=this,r=[],o=[];this.props.metadata.geoResolutions.forEach((function(i){if(i.key===n.props.geoResolution){var a=i.demes;Object.keys(a).forEach((function(n){t&&e&&t[n]?t[n].forEach((function(t){e[t]&&e[t].count>0&&(r.push(a[n].latitude),o.push(a[n].longitude))})):(r.push(a[n].latitude),o.push(a[n].longitude))}))}}));var i=we()(r),a=ve()(r),l=we()(o),s=ve()(o),c=(l-s)%360,u=i-a,p=we()([-55,a-.1*u]),f=ve()([70,i+.1*u]),d=we()([-180,s-.1*c]),h=ve()([180,l+.1*c]);return[L.latLng(p,h),L.latLng(f,d)]}},{key:"maybeUpdateDemesAndTransmissions",value:function(e){if(this.state.map&&this.props.treeLoaded&&this.state.d3elems){var t=e.visibilityVersion!==this.props.visibilityVersion,n=e.nodes&&e.visibility&&e.geoResolution&&e.nodeColors;if(t&&n)if(this.props.geoResolution!==e.geoResolution){var r=dt(e.nodes,e.visibility,e.geoResolution,e.nodeColors,e.mapTriplicate,e.metadata,this.state.map,e.pieChart,e.legendValues,e.colorBy,e.showTransmissionLines,e.dispatch),o=r.demeData,i=r.transmissionData,a=r.demeIndices,l=r.transmissionIndices,s=Pe(o,i,this.state.d3DOMNode,this.state.map,e.nodes,e.dateMinNumeric,e.dateMaxNumeric,e.pieChart,e.geoResolution,e.dispatch);this.setState({d3elems:s,demeData:o,transmissionData:i,demeIndices:a,transmissionIndices:l})}else{var c=ht(this.state.demeData,this.state.transmissionData,this.state.demeIndices,this.state.transmissionIndices,e.nodes,e.visibility,e.geoResolution,e.nodeColors,e.pieChart,e.colorBy,e.legendValues),u=c.newDemes,p=c.newTransmissions;!function(e,t,n,r,o,i,a,l){if(n){var s=o[0].tipCount,c=I.t/Math.sqrt(we()([Math.sqrt(s*o.length),I.s]));if(l){var u=ze(e);u.forEach((function(t){t.outerRadius=Math.sqrt(e[t.demeDataIdx].count)*c})),n.demes.data(u).attr("d",(function(e){return Object(_e.a)()(e)})).style("fill",(function(e){return e.color})).style("stroke",(function(e){return e.color}))}else n.demes.data(e).transition().duration(200).ease(De.a).style("stroke",(function(e){return e.count>0?e.color:"white"})).style("fill",(function(e){return e.count>0?e.color:"white"})).attr("r",(function(e){return c*Math.sqrt(e.count)}));n.transmissions.data(t).attr("d",(function(e){return Ie(Ne(i,a,e.originCoords,e.destinationCoords,e.originNumDate,e.destinationNumDate,e.visible,e.bezierCurve,e.bezierDates))})).attr("stroke",(function(e){return e.color}))}else console.error("d3elems is not defined!")}(u,p,this.state.d3elems,this.state.map,e.nodes,e.dateMinNumeric,e.dateMaxNumeric,e.pieChart),this.moveMapAccordingToData({geoResolutionChanged:!1,visibilityChanged:e.visibility!==this.props.visibility,demeData:u,demeIndices:this.state.demeIndices}),this.setState({demeData:u,transmissionData:p})}}}},{key:"getInitialBounds",value:function(){var e,t;return this.props.mapTriplicate?(e=L.latLng(-70,-360),t=L.latLng(80,360)):(e=L.latLng(-70,-180),t=L.latLng(80,180)),L.latLngBounds(e,t)}},{key:"createMap",value:function(){var e=this;L.Map.addInitHook("addHandler","gestureHandling",me.GestureHandling);var t=L.map("map",{center:[0,0],zoom:2,gestureHandling:!0,maxBounds:this.getInitialBounds(),minZoom:1,maxZoom:14,zoomSnap:.5,zoomControl:!1,doubleClickZoom:!this.props.narrativeMode});t.getRenderer(t).options.padding=2,L.tileLayer(this.state.tilesSettings.api,{attribution:this.state.tilesSettings.attribution||""}).addTo(t),this.props.narrativeMode||(L.zoomControlButtons=L.control.zoom({position:"bottomright"}).addTo(t)),this.state.tilesSettings.mapboxWordmark&&new(L.Control.extend({onAdd:function(){var e=L.DomUtil.create("a","mapbox-wordmark");return e.href="http://mapbox.com/about/maps",e.target="_blank",e}}))({position:"bottomleft"}).addTo(t),t.on("moveend",this.respondToLeafletEvent.bind(this)),t.on("resize",(function(){e.props.narrativeMode&&e.fitMapBoundsToData(e.state.demeData,e.state.demeIndices)})),this.setState({map:t})}},{key:"maybeCreateMapDiv",value:function(){var e=this,t=null;return this.state.responsive&&(t=i.a.createElement("div",{style:{position:"relative"}},i.a.createElement("div",{onClick:function(){e.setState({userHasInteractedWithMap:!0})},id:"map",style:{height:this.state.responsive.height,width:this.state.responsive.width}}))),t}},{key:"moveMapAccordingToData",value:function(e){var t=e.geoResolutionChanged,n=e.visibilityChanged,r=e.demeData,o=e.demeIndices;this.state.boundsSet?(t||n)&&(this.props.narrativeMode?this.state.map.fire("resize"):this.state.userHasInteractedWithMap||this.fitMapBoundsToData(r,o)):this.fitMapBoundsToData(r,o)}},{key:"getMaxZoomForFittingMapToData",value:function(){switch(this.props.geoResolution.toLowerCase()){case"region":return 4;case"country":return 5;case"state":return 7;case"city":return 12;case"block":return 14;default:return 8}}},{key:"fitMapBoundsToData",value:function(e,t){var n=this.getGeoRange(e,t);this.state.currentBounds=window.L.latLngBounds(n[0],n[1]);var r=this.getMaxZoomForFittingMapToData();this.bounds_timeout&&window.clearTimeout(this.bounds_timeout),this.bounds_timeout=window.setTimeout((function(e){e.fitBounds(window.L.latLngBounds(n[0],n[1]),{maxZoom:r})}),this.props.narrativeMode?100:750,this.state.map)}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.getStyles(),r=this.state.transmissionData&&this.state.transmissionData.length;return i.a.createElement(h.a,{center:!0,title:t(r?"Transmissions":"Geography")},this.props.legend&&i.a.createElement(yt.a,null,i.a.createElement(mt.a,{right:!0,width:this.props.width})),this.maybeCreateMapDiv(),this.props.narrativeMode?null:i.a.createElement("button",{style:gt(gt({},p.n),n.resetZoomButton),onClick:function(){e.fitMapBoundsToData(e.state.demeData,e.state.demeIndices),e.setState({userHasInteractedWithMap:!1})}},t("reset zoom")))}},{key:"componentWillUnmount",value:function(){this.state.map.off("moveend"),this.state.map.off("resize")}}])&&wt(t.prototype,n),r&&wt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component),xt(at,"propTypes",{treeVersion:l.a.number.isRequired,treeLoaded:l.a.bool.isRequired,colorScaleVersion:l.a.number.isRequired}),it=at))||it,_t=Object(d.a)()(Et),Dt=n(925),It=n(918),Nt=n(924),zt=n(830),Pt=n(930),At=n(819);function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Rt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),l=new O(o||[]);return r(a,"_invoke",{value:M(e,n,l)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p={};function f(){}function d(){}function h(){}var y={};s(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(x([])));b&&b!==t&&n.call(b,i)&&(y=b);var v=h.prototype=f.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var o;r(this,"_invoke",{value:function(r,i){function a(){return new t((function(o,a){!function r(o,i,a,l){var s=u(e[o],e,i);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==kt(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,l)}))}l(s.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}})}function M(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=j(a,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),s(v,l,"Generator"),s(v,i,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Bt(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var Ft=function(){var e,t=(e=Rt().mark((function e(t){return Rt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tt){e.next=4;break}return e.next=3,n.e(14).then(n.t.bind(null,1169,7));case 3:Tt=e.sent.default;case 4:return e.abrupt("return",new Promise((function(e,n){Tt.parse(t,{header:!0,complete:function(t){e(t)},error:function(e){n(e)},encoding:"UTF-8",comments:"#",delimiter:",",skipEmptyLines:!0,dynamicTyping:!1})})));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Bt(i,r,o,a,l,"next",e)}function l(e){Bt(i,r,o,a,l,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Gt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function Wt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||Gt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){if(e){if("string"==typeof e)return Ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(e,t):void 0}}function Ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vt(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Vt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),l=new O(o||[]);return r(a,"_invoke",{value:M(e,n,l)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p={};function f(){}function d(){}function h(){}var y={};s(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(x([])));b&&b!==t&&n.call(b,i)&&(y=b);var v=h.prototype=f.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var o;r(this,"_invoke",{value:function(r,i){function a(){return new t((function(o,a){!function r(o,i,a,l){var s=u(e[o],e,i);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==Yt(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,l)}))}l(s.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}})}function M(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=j(a,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),s(v,l,"Generator"),s(v,i,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Qt(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function qt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Qt(i,r,o,a,l,"next",e)}function l(e){Qt(i,r,o,a,l,"throw",e)}a(void 0)}))}}var Xt=function(){var e=qt(Vt().mark((function e(t,r,o){var i,a;return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.name,(a=new FileReader).onload=function(){var e=qt(Vt().mark((function e(o){var a,l,s,c,u,p,f,d,h,y,m,b,v,g,w,M,j;return Vt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.e(13).then(n.t.bind(null,1168,7));case 3:return a=e.sent.default,l=a.read(o.target.result,{type:"binary",raw:!0}),s=l.Sheets[l.SheetNames[0]],c=a.utils.sheet_to_csv(s),e.next=9,Ft(c);case 9:if(u=e.sent,p=u.errors,f=u.data,d=u.meta,!p.length){e.next=16;break}throw console.error(p),new Error(p.map((function(e){return e.message})).join(", "));case 16:if(h=Zt(d.fields),y=h.coloringInfo,m=h.strainKey,b=h.latLongKeys,v=h.ignoredFields,g={},f.forEach((function(e){g[e[m]]=e})),M=Jt(w={},y,g,i),j=b?$t(w,b,g,i):void 0,en(t,r,w,M,v,i)){e.next=25;break}return e.abrupt("return",void 0);case 25:return t({type:At.a,newColorings:M,newGeoResolution:j,newNodeAttrs:w}),e.abrupt("return",t(Object(et.c)({message:"Adding metadata from ".concat(i),details:"".concat(Object.keys(M).length," new coloring").concat(Object.keys(M).length>1?"s":""," for ").concat(Object.keys(w).length," node").concat(Object.keys(w).length>1?"s":"")})));case 29:return e.prev=29,e.t0=e.catch(0),e.abrupt("return",t(Object(et.a)({message:"Parsing of ".concat(i," failed"),details:e.t0.message})));case 32:case"end":return e.stop()}}),e,null,[[0,29]])})));return function(t){return e.apply(this,arguments)}}(),e.abrupt("return",a.readAsBinaryString(o));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Zt(e){var t=e[0],n=new Set(["name","div","vaccine","labels","hidden","mutations","url","authors","accession","traits","children"]);n.add("num_date").add("year").add("month").add("date");var r=new Set(["__latitude","__longitude","latitude","longitude"]),o=new Set,i=e.slice(1).map((function(e){if(n.has(e))return o.add(e),null;if(r.has(e))return null;var t=e,i=e;if(e.includes("__")){var a=Wt(e.split("__"),2),l=a[0],s=a[1];if(["shape","colour","color"].includes(s))return o.add(e),null;"autocolour"===s&&(t=l)}return{name:t,lookupKey:i,scaleKey:void 0,scaleType:"categorical"}})).filter((function(e){return!!e})).map((function(t){return e.includes("".concat(t.name,"__colour"))?t.scaleKey="".concat(t.name,"__colour"):e.includes("".concat(t.name,"__color"))&&(t.scaleKey="".concat(t.name,"__color")),t})),a=e.includes("latitude")&&e.includes("longitude")?{latitude:"latitude",longitude:"longitude"}:e.includes("__latitude")&&e.includes("__longitude")?{latitude:"__latitude",longitude:"__longitude"}:void 0;return{coloringInfo:i,header:e,strainKey:t,latLongKeys:a,ignoredFields:o}}function Jt(e,t,n,r){var o,i={},a=Ht(t);try{for(a.s();!(o=a.n()).done;){for(var l=o.value,s=new Map,c=0,u=Object.entries(n);c<u.length;c++){var p=Wt(u[c],2),f=p[0],d=p[1],h=d[l.lookupKey];h&&(e[f]||(e[f]={}),e[f][l.name]={value:h},l.scaleKey&&d[l.scaleKey]&&d[l.scaleKey].match(/^#[A-Fa-f0-9]{6}$/)&&(s.has(h)||s.set(h,[]),s.get(h).push(d[l.scaleKey])))}i[l.name]={title:l.name,type:l.scaleType},s.size&&(i[l.name].scale=Kt(l.name,s))}}catch(e){a.e(e)}finally{a.f()}return i[r]={title:r,type:"boolean"},Object.keys(n).forEach((function(t){e[t]||(e[t]={}),e[t][r]={value:"Strains in ".concat(r)}})),i}function Kt(e,t){var n,r=[],o=Ht(t);try{for(o.s();!(n=o.n()).done;){var i=Wt(n.value,2),a=i[0],l=i[1];if(1===new Set(l).size)r.push([a,l[0]]);else{var s=0,c=0,u=0;l.forEach((function(e){var t=Object(Pt.g)(e);s+=t.r,c+=t.g,u+=t.b}));var p=l.length;r.push([a,Object(Pt.g)(s/p,c/p,u/p).toString()])}}}catch(e){o.e(e)}finally{o.f()}return r}function $t(e,t,n,r){var o=new Map;Object.entries(n).forEach((function(e){var n=Wt(e,2),r=n[0],i=n[1],a=[Number(i[t.latitude]),Number(i[t.longitude])],l=a[0],s=a[1];if(!(isNaN(l)||isNaN(s)||l>90||l<-90||s>180||s<-180)){var c=String(i[t.latitude])+String(i[t.longitude]);o.has(c)||o.set(c,{latitude:l,longitude:s,strains:new Set}),o.get(c).strains.add(r)}}));var i=r+"_geo",a={key:i,demes:{}},l=0;return o.values().forEach((function(t){var n=t.latitude,r=t.longitude,o=t.strains,s="deme_".concat(l++);a.demes[s]={latitude:n,longitude:r},o.forEach((function(t){e[t]||(e[t]={}),e[t][i]={value:s}}))})),a}function en(e,t,n,r,o,i){var a=t(),l=a.controls,s=a.tree,c=a.treeToo,u=new Set,p=new Set,f=new Set(s.nodes.map((function(e){return e.name})));Array.isArray(c.nodes)&&c.nodes.forEach((function(e){return f.add(e.name)}));for(var d=0,h=Object.keys(n);d<h.length;d++){var y=h[d];f.has(y)||(p.add(y),delete n[y])}for(var m=function(){var e=v[b];Object.keys(n).filter((function(t){return n[t][e]})).length||(u.add(e),delete r[e])},b=0,v=Object.keys(r);b<v.length;b++)m();for(var g=0,w=Object.keys(r);g<w.length;g++){var M=w[g];l.coloringsPresentOnTree.has(M)&&(u.add(M),delete r[M])}var j,S=Ht(u);try{for(S.s();!(j=S.n()).done;)for(var L=j.value,O=0,x=Object.values(n);O<x.length;O++){delete x[O][L]}}catch(e){S.e(e)}finally{S.f()}return Object.keys(n).length&&Object.keys(r).length?(u.size&&e(Object(et.d)({message:"Ignoring ".concat(u.size,' columns as they are already set as colorings or are "special" cases to be ignored'),details:u.join(", ")})),p.size&&e(Object(et.d)({message:"Ignoring ".concat(p.size," taxa (CSV rows) nodes (rows) as they don't appear in the tree"),details:p.join(", ")})),!0):(e(Object(et.a)({message:"".concat(i," had no (relevent) information"),details:Object.keys(n).length?"No columns to add as colorings":"No taxa which match those in the tree"})),!1)}var tn,nn=["text/csv","text/tab-separated-values","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],rn=function(e){return function(t,n){if(1!==e.length)return t(Object(et.d)({message:"More than one file dropped",details:"Currently we only allow a single CSV to be used"}));var r=e[0];return function(e){return nn.includes(e.type)||function(e){return""===e.type&&e.name.endsWith(".tsv")}(e)||function(e){return"application/vnd.ms-excel"===e.type&&e.name.endsWith(".csv")}(e)}(r)?Xt(t,n,r):t(Object(et.d)({message:"Cannot parse ".concat(r.name),details:"Currently only CSV/TSV/XLSX files are allowed, not ".concat(r.type)}))}},on=n(846),an=n(832);function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==ln(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===ln(i)?i:String(i)),r)}var o,i}function cn(e,t){return(cn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fn(e);if(t){var o=fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pn(this,n)}}function pn(e,t){if(t&&("object"===ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function fn(e){return(fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dn=Object(s.b)((function(e){return{animationPlayPauseButton:e.controls.animationPlayPauseButton,absoluteDateMaxNumeric:e.controls.absoluteDateMaxNumeric,absoluteDateMinNumeric:e.controls.absoluteDateMinNumeric,dateMinNumeric:e.controls.dateMinNumeric,dateMaxNumeric:e.controls.dateMaxNumeric,mapAnimationCumulative:e.controls.mapAnimationCumulative,mapAnimationShouldLoop:e.controls.mapAnimationShouldLoop,mapAnimationDurationInMilliseconds:e.controls.mapAnimationDurationInMilliseconds}}))(tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cn(e,t)}(i,e);var t,n,r,o=un(i);function i(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.call(this,e)}return t=i,(n=[{key:"componentDidMount",value:function(){this.maybeAnimate()}},{key:"componentDidUpdate",value:function(){this.maybeAnimate()}},{key:"render",value:function(){return null}},{key:"maybeAnimate",value:function(){var e=this;if("Pause"===this.props.animationPlayPauseButton&&!window.NEXTSTRAIN.animationTickReference){var t=this.props.absoluteDateMaxNumeric-this.props.absoluteDateMinNumeric,n=I.e*t/this.props.mapAnimationDurationInMilliseconds,r=I.f*t;this.props.dateMaxNumeric-this.props.dateMinNumeric<1.3*r?window.NEXTSTRAIN.animationStartPoint&&window.NEXTSTRAIN.animationEndPoint||(window.NEXTSTRAIN.animationStartPoint=this.props.dateMinNumeric,window.NEXTSTRAIN.animationEndPoint=this.props.absoluteDateMaxNumeric):(window.NEXTSTRAIN.animationStartPoint=this.props.dateMinNumeric,window.NEXTSTRAIN.animationEndPoint=this.props.dateMaxNumeric);var o=this.props.dateMinNumeric,i=o+r;this.props.dispatch({type:At.I}),window.NEXTSTRAIN.animationTickReference=setInterval((function(){if("Play"===e.props.animationPlayPauseButton)return clearInterval(window.NEXTSTRAIN.animationTickReference),void(window.NEXTSTRAIN.animationTickReference=null);e.props.dispatch(Object(_.c)({newMin:Object(an.g)(o),newMax:Object(an.g)(i),quickdraw:!0})),e.props.mapAnimationCumulative||(o+=n),(i+=n)>=window.NEXTSTRAIN.animationEndPoint&&(e.props.mapAnimationShouldLoop?(o=window.NEXTSTRAIN.animationStartPoint,i=o+r):(clearInterval(window.NEXTSTRAIN.animationTickReference),window.NEXTSTRAIN.animationTickReference=null,e.props.dispatch({type:At.H,data:"Play"}),e.props.dispatch(Object(_.c)({newMin:Object(an.g)(window.NEXTSTRAIN.animationStartPoint),newMax:Object(an.g)(window.NEXTSTRAIN.animationEndPoint),quickdraw:!1})),window.NEXTSTRAIN.animationStartPoint=void 0,window.NEXTSTRAIN.animationEndPoint=void 0))}),I.e)}}}])&&sn(t.prototype,n),r&&sn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(i.a.Component))||tn,hn=n(868);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){vn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==yn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===yn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gn=n(880),wn=n.n(gn),Mn=c.c.div.withConfig({displayName:"styles__NarrativeStyles",componentId:"sc-19vjmtz-0"})(["top:",";font-weight:300;font-size:14px;line-height:1.3;@media (max-width:1080px){font-size:13px;line-height:1.1;}p,h1,h2,h3,h4,li,table{color:",";}table,th,td{border:1px solid;}td,th{padding:3px;}h1{font-weight:700;font-size:2em;margin-bottom:30px;@media (max-width:1080px){font-size:1.8em;margin-bottom:10px;}}h2{font-weight:500;font-size:1.8em;@media (max-width:1080px){font-size:1.6em;}}h3{font-weight:500;font-size:1.6em;@media (max-width:1080px){font-size:1.4em;}}h4{font-weight:500;font-size:1.4em;@media (max-width:1080px){font-size:1.2em;}}div p{text-align:justify;margin:10px 0px;font-weight:inherit;line-height:inherit;}li{margin:10px 0px 10px 0px;font-weight:inherit;line-height:inherit;}table{width:100%;}strong{font-weight:500;background-color:inherit;font-size:inherit;line-height:inherit;}img{display:block;margin-left:auto;margin-right:auto;width:90%;padding:15px 0px 15px 0px;}figcaption{font-style:italic;font-size:0.9em;text-align:center;margin-bottom:15px;}#NarrativeBlock_0{margin-top:15px;}#NarrativeBlock_0 h3{font-weight:inherit;font-size:1.2em;}#NarrativeBlock_0 h4{text-align:justify;font-size:inherit;margin:0;margin-bottom:30px;font-weight:inherit;font-style:italic;line-height:inherit;}#NarrativeBlock_0 .explanation{text-align:justify;font-size:inherit;color:",";margin:0;margin-bottom:30px;font-weight:inherit;font-style:italic;line-height:inherit;}#NarrativeBlock_0 sup{font-size:65%;vertical-align:super;}"],(function(e){return e.narrativeNavBarHeight+"px"}),(function(e){return e.theme.unselectedColor}),(function(e){return e.theme.selectedColor})),jn=c.c.div.withConfig({displayName:"styles__OpacityFade",componentId:"sc-19vjmtz-1"})(["z-index:200;position:absolute;background-image:",";width:100%;height:30px;",";",";"],(function(e){return"linear-gradient(to ".concat(e.position,", rgba(255, 255, 255, 0), ").concat(e.theme.background,")")}),(function(e){return"top"===e.position&&"top: ".concat(e.topHeight,"px")}),(function(e){return"bottom"===e.position&&"bottom: 0px;"})),Sn={color:"#5097BA",textDecoration:"none",cursor:"pointer",fontFamily:'"Lato", "Helvetica Neue", "Helvetica", "sans-serif"',fontWeight:"400",fontSize:"1.8em"},Ln=c.c.div.withConfig({displayName:"styles__ProgressBar",componentId:"sc-19vjmtz-2"})(["width:100%;background-color:inherit;box-shadow:0px -3px 3px -3px rgba(0,0,0,0.2) inset;display:flex;flex-direction:row;justify-content:space-evenly;align-items:center;"]),On=c.c.div.withConfig({displayName:"styles__ProgressButton",componentId:"sc-19vjmtz-3"})(["background:#74a9cf;border-radius:50%;cursor:pointer;transition:transform .1s;align-self:center;margin:auto;&:hover{transform:scale(3);}"]),xn=Object(c.b)(["width:100%;color:white;font-size:24px;font-weight:500;cursor:pointer;display:flex;align-items:center;justify-content:center;"]),Cn=c.c.div.withConfig({displayName:"styles__EndOfNarrative",componentId:"sc-19vjmtz-4"})(["text-align:center;display:grid;grid-template-rows:1fr;grid-row-gap:10px;"]),Tn=c.c.nav.withConfig({displayName:"styles__MobileBannerTop",componentId:"sc-19vjmtz-5"})([""," top:0;height:","px;background-color:#E67F2C;"],xn,(function(e){return e.height})),En=c.c.nav.withConfig({displayName:"styles__MobileBannerBottom",componentId:"sc-19vjmtz-6"})([""," bottom:0;height:","px;background-color:#65B0A4;"],xn,(function(e){return e.height})),_n=c.c.div.withConfig({displayName:"styles__MobileContentContainer",componentId:"sc-19vjmtz-7"})(["min-height:","px;max-height:","px;overflow-y:scroll;color:",";background-color:",";font-weight:300;font-size:14px;line-height:1.3;"],(function(e){return e.height}),(function(e){return e.height}),(function(e){return e.theme.unselectedColor}),(function(e){return e.theme.background})),Dn=n(831);function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(e){return function(e){if(Array.isArray(e))return zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return zn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hn(r.key),r)}}function An(e,t){return(An=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fn(e);if(t){var o=Fn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rn(this,n)}}function Rn(e,t){if(t&&("object"===In(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bn(e)}function Bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t,n){return(t=Hn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hn(e){var t=function(e,t){if("object"!==In(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==In(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===In(t)?t:String(t)}var Wn=Symbol(),Gn=Symbol(),Un=Symbol(),Vn=Symbol(),Qn=Symbol(),qn=Symbol(),Xn=Symbol(),Zn=Symbol(),Jn=Symbol(),Kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&An(e,t)}(a,e);var t,n,r,o=kn(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Yn(Bn(t=o.call(this,e)),"componentDidMount",(function(){window.addEventListener("resize",t[qn]),document.ontouchmove=function(e){e.preventDefault()},t._pageContainer.addEventListener("wheel",t[Un]),t._pageContainer.addEventListener("touchmove",t[Vn]),t._pageContainer.addEventListener("keydown",t[Qn]);var e=[];Object(Dn.isNil)(t.props.children[t.state.componentIndex])?e.push(i.a.createElement("div",{ref:function(e){return t["container_"+t.state.componentIndex]=e},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},t.props.children)):e.push(i.a.createElement("div",{key:t.state.componentIndex,ref:function(e){return t["container_"+t.state.componentIndex]=e},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},t.props.children[t.state.componentIndex])),t[Xn](e)})),Yn(Bn(t),"componentWillUnmount",(function(){window.removeEventListener("resize",t[qn]),t._pageContainer.removeEventListener("wheel",t[Un]),t._pageContainer.removeEventListener("touchmove",t[Vn]),t._pageContainer.removeEventListener("keydown",t[Qn])})),Yn(Bn(t),"goToPage",(function(e){var n=t.props,r=n.pageOnChange,o=n.children,a=t.state.componentIndex,l=Nn(t.state.componentsToRender);if(!Object(Dn.isEqual)(a,e))if(Object(Dn.isNil)(t["container_"+e])||t[Gn]){if(!t[Gn]&&!Object(Dn.isNil)(o[e])){for(var s=function(e){l.push(i.a.createElement("div",{key:e,ref:function(n){return t["container_"+e]=n},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},o[e]))},c=l.length;c<=e;c++)s(c);Object(Dn.isNil)(o[e+1])||l.push(i.a.createElement("div",{key:e+1,ref:function(n){return t["container_"+(e+1)]=n},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},o[e+1])),t[Gn]=!0,t.setState({componentsToRender:l},(function(){t._pageContainer.style.transform="translate3d(0, ".concat(-100*e,"%, 0)"),r&&r(e+1),setTimeout((function(){t.setState({componentIndex:e},(function(){t[Gn]=!1,t[Wn]=null}))}),t.props.animationTimer+200)}))}}else t[Gn]=!0,t._pageContainer.style.transform="translate3d(0, ".concat(-100*e,"%, 0)"),r&&r(e+1),Object(Dn.isNil)(t["container_"+(e+1)])&&!Object(Dn.isNil)(o[e+1])&&l.push(i.a.createElement("div",{key:e+1,ref:function(n){return t["container_"+(e+1)]=n},style:{height:"calc(100% - 20px)",width:"100%",paddingBottom:"20px"}},o[e+1])),setTimeout((function(){t.setState({componentIndex:e,componentsToRender:l},(function(){t[Gn]=!1,t[Wn]=null}))}),t.props.animationTimer+200)})),t.state={componentIndex:0,componentsToRender:[]},t[Wn]=null,t[Gn]=!1,t[Un]=function(e){e.deltaY<0?t[Zn](-e.deltaY):t[Jn](e.deltaY)},t[Vn]=function(e){Object(Dn.isNull)(t[Wn])?t[Wn]=e.touches[0].clientY:e.touches[0].clientY>t[Wn]?t[Zn](25):t[Jn](25)},t[Qn]=function(e){Object(Dn.isEqual)(e.keyCode,38)&&t[Zn](25),Object(Dn.isEqual)(e.keyCode,40)&&t[Jn](25)},t[qn]=function(){t.forceUpdate()},t[Xn]=function(e){var n=[];Object(Dn.isNil)(e)||(n=Nn(e)),(n=[].concat(Nn(n),Nn(t.state.componentsToRender)))[t.state.componentIndex+1]||Object(Dn.isNil)(t.props.children[t.state.componentIndex+1])||n.push(i.a.createElement("div",{key:t.state.componentIndex+1,ref:function(e){return t["container_"+(t.state.componentIndex+1)]=e},style:{height:"100%",width:"100%",overflow:"hidden"}},t.props.children[t.state.componentIndex+1])),t.setState({componentsToRender:Nn(n)})},t[Zn]=function(e){Object(Dn.isNil)(t["container_"+(t.state.componentIndex-1)])||t[Gn]?t.props.scrollUnavailable&&t.props.scrollUnavailable():0===t["container_"+t.state.componentIndex].getElementsByTagName("div")[0].scrollTop&&e>=25&&(t[Gn]=!0,t._pageContainer.style.transform="translate3d(0, ".concat(-100*(t.state.componentIndex-1),"%, 0)"),t.props.pageOnChange&&t.props.pageOnChange(t.state.componentIndex),setTimeout((function(){t.setState((function(e){return{componentIndex:e.componentIndex-1}}),(function(){t[Gn]=!1,t[Wn]=null}))}),t.props.animationTimer+200))},t[Jn]=function(e){if(Object(Dn.isNil)(t["container_"+(t.state.componentIndex+1)])||t[Gn])t.props.scrollUnavailable&&t.props.scrollUnavailable();else{var n=t["container_"+t.state.componentIndex].getElementsByTagName("div")[0];n.scrollTop===n.scrollHeight-n.clientHeight&&e>=25&&(t[Gn]=!0,t._pageContainer.style.transform="translate3d(0, ".concat(-100*(t.state.componentIndex+1),"%, 0)"),t.props.pageOnChange&&t.props.pageOnChange(t.state.componentIndex+2),setTimeout((function(){t.setState((function(e){return{componentIndex:e.componentIndex+1}}),(function(){t[Gn]=!1,t[Wn]=null,t[Xn]()}))}),t.props.animationTimer+200))}},t}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.animationTimer,r=t.transitionTimingFunction,o=t.containerHeight;return t.containerWidth,i.a.createElement("div",{id:"PageScroller",style:{height:o,width:"inherit",overflow:"hidden",padding:"0px 0px 0px 0px"}},i.a.createElement("div",{ref:function(t){return e._pageContainer=t},tabIndex:0,style:{height:"100%",width:"100%",transition:"transform ".concat(n,"ms ").concat(r)}},this.state.componentsToRender))}}])&&Pn(t.prototype,n),r&&Pn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component);Yn(Kn,"propTypes",{animationTimer:l.a.number,transitionTimingFunction:l.a.string,pageOnChange:l.a.func,scrollUnavailable:l.a.func,containerHeight:l.a.number,containerWidth:l.a.number}),Yn(Kn,"defaultProps",{animationTimer:1e3,transitionTimingFunction:"ease-in-out",containerHeight:window.innerHeight,containerWidth:window.innerWidth});var $n,er=n(840);function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function or(e,t,n){return(t=ar(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ir(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ar(r.key),r)}}function ar(e){var t=function(e,t){if("object"!==tr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===tr(t)?t:String(t)}function lr(e,t){return(lr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ur(e);if(t){var o=ur(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cr(this,n)}}function cr(e,t){if(t&&("object"===tr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pr=Object(s.b)((function(e){return{loaded:e.narrative.loaded,blocks:e.narrative.blocks,currentInFocusBlockIdx:e.narrative.blockIdx}}))($n=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lr(e,t)}(a,e);var t,n,r,o=sr(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).goToSlide=function(e){var n=e-1;t.props.dispatch(Object(er.a)(fr(t.props.blocks,t.props.currentInFocusBlockIdx,n)))},t.goToNextSlide=function(){t.props.currentInFocusBlockIdx!==t.props.blocks.length-1&&t.reactPageScroller.goToPage(t.props.currentInFocusBlockIdx+1)},t.goToPreviousSlide=function(){0!==t.props.currentInFocusBlockIdx&&t.reactPageScroller.goToPage(t.props.currentInFocusBlockIdx-1)},t}return t=a,(n=[{key:"componentDidMount",value:function(){window.twttr&&window.twttr.ready&&window.twttr.widgets.load(),0!==this.props.currentInFocusBlockIdx&&this.reactPageScroller.goToPage(this.props.currentInFocusBlockIdx),wn.a.bind(["left","up"],this.goToPreviousSlide),wn.a.bind(["right","down"],this.goToNextSlide)}},{key:"renderChevron",value:function(e){var t={zIndex:200,position:"absolute",cursor:"pointer",left:"".concat(this.props.width/2-15,"px"),fontSize:"".concat(30,"px"),height:"".concat(30,"px")};e&&(t.top=I.H+25),t.bottom=e?0:"5px";var n=e?i.a.createElement(u.f,null):i.a.createElement(u.c,null);return i.a.createElement("div",{id:"hand".concat(e?"Up":"Down"),style:t,onClick:e?this.goToPreviousSlide:this.goToNextSlide},n)}},{key:"renderProgress",value:function(){var e=this;return i.a.createElement(Ln,{style:{height:"".concat(25,"px")},role:"navigation"},this.props.blocks.map((function(t,n){var r=e.props.currentInFocusBlockIdx===n?"14px":"6px";return i.a.createElement(On,{key:n,style:{width:r,height:r},onClick:function(){return e.reactPageScroller.goToPage(n)}})})))}},{key:"renderBlocks",value:function(){var e=this;return this.props.blocks.map((function(t,n){if(t.isEndOfNarrativeSlide)return i.a.createElement(Cn,{key:"EON",id:"EndOfNarrative"},i.a.createElement("h1",null,"END OF NARRATIVE"),i.a.createElement("a",{style:rr({},Sn),onClick:function(){return e.reactPageScroller.goToPage(0)}},"Scroll back to the beginning"),i.a.createElement("br",null),i.a.createElement("a",{style:rr({},Sn),onClick:function(){return e.props.dispatch({type:At.V,narrativeOn:!1})}},"Leave the narrative & explore the data yourself"));var r=0===n?'\n  <p class="explanation">\n  Explore the narrative by scrolling on the left panel, or click "explore the data yourself" in the top right to interact with the data.\n  </p>\n'+t.__html:t.__html;return i.a.createElement("div",{dir:"auto",id:"NarrativeBlock_".concat(n),key:n,style:{padding:"10px 20px",height:"inherit",overflowX:"hidden",overflowY:"auto"},dangerouslySetInnerHTML:{__html:r}})}))}},{key:"render",value:function(){var e=this;return this.props.loaded?i.a.createElement(Mn,{id:"NarrativeContainer",narrativeNavBarHeight:I.H},this.renderProgress(),i.a.createElement(jn,{position:"top",topHeight:I.H+25}),i.a.createElement(jn,{position:"bottom"}),0!==this.props.currentInFocusBlockIdx?this.renderChevron(!0):null,this.props.currentInFocusBlockIdx!==this.props.blocks.length-1?this.renderChevron(!1):null,i.a.createElement(Kn,{ref:function(t){e.reactPageScroller=t},containerHeight:this.props.height-25,pageOnChange:this.goToSlide},this.renderBlocks())):null}},{key:"componentWillUnmount",value:function(){wn.a.unbind(["left","right","up","down"])}}])&&ir(t.prototype,n),r&&ir(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||$n;function fr(e,t,n){var r={query:{n:n},push:!0};return e[t].dataset!==e[n].dataset&&(r.path=e[n].dataset,r.changeDatasetOnly=!0),r}var dr,hr,yr=n(860),mr=n(336),br=n(865),vr=n(826);function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){Tr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Er(r.key),r)}}function Sr(e,t){return(Sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Lr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cr(e);if(t){var o=Cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Or(this,n)}}function Or(e,t){if(t&&("object"===gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xr(e)}function xr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cr(e){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tr(e,t,n){return(t=Er(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e){var t=function(e,t){if("object"!==gr(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===gr(t)?t:String(t)}var _r=Object(s.b)((function(e){return{colorBy:e.controls.colorBy,geneLength:e.controls.geneLength,colorings:e.metadata.colorings,geneMap:e.entropy.geneMap}}))((hr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Sr(e,t)}(a,e);var t,n,r,o=Lr(a);function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Tr(xr(t=o.call(this,e)),"dispatchColorByGenotype",Object(Dn.debounce)((function(e){t.dispatchColorBy(e,"genotype")}),400)),t.BLANK_STATE={colorBySelected:"",geneSelected:"",positionSelected:""},Object($e.f)(e.colorBy)){var n=Object($e.a)(e.colorBy);n&&(t.state=t.newState({colorBySelected:"gt",geneSelected:n.gene,positionSelected:n.positions.join(",")}))}else t.state=t.newState({colorBySelected:e.colorBy});return t}return t=a,(n=[{key:"replaceState",value:function(e){var t=this;this.setState((function(n,r){return t.newState(e)}))}},{key:"newState",value:function(e){return Mr(Mr({},this.BLANK_STATE),e)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.colorBy!==e.colorBy)if(Object($e.f)(e.colorBy)){var t=Object($e.a)(e.colorBy);t&&this.replaceState({colorBySelected:"gt",geneSelected:t.gene,positionSelected:t.positions.join(",")})}else this.replaceState({colorBySelected:e.colorBy})}},{key:"componentDidUpdate",value:function(){var e=this.state.colorBySelected;if("gt"===e){var t=this.state,n=t.geneSelected,r=t.positionSelected;if(n&&r){var o=Object($e.d)({gene:n,positions:Object($e.c)(r,this.props.geneLength[n])});o&&this.dispatchColorByGenotype(o)}}else this.dispatchColorBy(e)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.colorBySelected!==t.colorBySelected||this.state.geneSelected!==t.geneSelected||this.state.positionSelected!==t.positionSelected||this.props.colorings!==e.colorings}},{key:"dispatchColorBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;Object(zt.a)("color-by-".concat(t)),this.props.dispatch(Object(br.a)(e))}},{key:"getGtGeneOptions",value:function(){var e=[];return this.props.geneMap&&(e.push({value:I.K,label:"nucleotide"}),Object.keys(this.props.geneMap).forEach((function(t){return e.push({value:t,label:t})}))),e}},{key:"gtGeneSelect",value:function(){var e=this,t=this.getGtGeneOptions();return i.a.createElement(vr.b,{name:"selectGenotype",id:"selectGenotype",placeholder:"gene…",value:t.filter((function(t){return t.value===e.state.geneSelected})),options:t,isClearable:!1,isSearchable:!0,isMulti:!1,onChange:function(t){e.setState({geneSelected:t.value})}})}},{key:"gtPositionInput",value:function(){var e=this,t=this.state.geneSelected,n=Math.floor(this.props.geneLength[t]),r=t?"".concat(t," position (1–").concat(n,")…"):"position…";return i.a.createElement("input",{type:"text",style:p.j,placeholder:r,value:this.state.positionSelected,onChange:function(t){e.setState({positionSelected:t.target.value})}})}},{key:"isNormalInteger",value:function(e){var t=Math.floor(Number(e));return String(t)===e&&t>=0}},{key:"getStyles",value:function(){return{base:{width:I.l,marginBottom:0,fontSize:14}}}},{key:"render",value:function(){var e=this,t=this.getStyles(),n=Object.keys(this.props.colorings).map((function(t){return{value:t,label:e.props.colorings[t].title}}));return i.a.createElement("div",{style:t.base,id:"selectColorBy"},i.a.createElement(vr.b,{name:"selectColorBy",value:n.filter((function(t){return t.value===e.state.colorBySelected})),options:n,isClearable:!1,isSearchable:!0,isMulti:!1,onChange:function(t){e.replaceState({colorBySelected:t.value})}}),"gt"===this.state.colorBySelected?i.a.createElement("div",null,this.gtGeneSelect(),this.gtPositionInput()):null)}}])&&jr(t.prototype,n),r&&jr(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component),Tr(hr,"propTypes",{colorBy:l.a.string.isRequired,geneLength:l.a.object.isRequired,colorings:l.a.object.isRequired,dispatch:l.a.func.isRequired}),dr=hr))||dr,Dr=i.a.createElement(i.a.Fragment,null,"Change the metadata field which the visualisation is coloured by.",i.a.createElement("br",null),"The phylogeny, map and frequencies panel (if available) will all be coloured in a consistent fashion."),Ir=_r,Nr=n(970),zr=n.n(Nr),Pr=n(971),Ar=n.n(Pr),kr=n(974),Rr=n.n(kr);function Br(e){return(Br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach((function(t){Hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Br(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Br(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Br(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wr={base:{position:"relative",borderRadius:6},horizontalSlider:{width:"100%",height:12},verticalSlider:{maxHeight:500,width:12,border:"1px solid grey"},handle:{fontSize:"0.9em",textAlign:"center",backgroundColor:"#FAFAFA",color:"white",border:"1px solid #555",cursor:"pointer",height:12,width:12,borderRadius:12,top:-4},bar:{position:"relative",backgroundColor:"rgb(200,200,200)",borderRadius:2},unselectedBar:{backgroundColor:"#777",height:1,top:2},selectedBar:{backgroundColor:"#CCC",height:6}};function Gr(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}function Ur(e){return null==e?[]:Array.isArray(e)?e:[e]}function Vr(e){return null!=e&&1===e.length?e[0]:e}var Qr=zr()({displayName:"Slider",propTypes:{min:l.a.number,max:l.a.number,step:l.a.number,minDistance:l.a.number,defaultValue:l.a.oneOfType([l.a.number,l.a.arrayOf(l.a.number)]),value:l.a.oneOfType([l.a.number,l.a.arrayOf(l.a.number)]),orientation:l.a.oneOf(["horizontal","vertical"]),className:l.a.string,handleClassName:l.a.string,handleActiveClassName:l.a.string,withBars:l.a.bool,barClassName:l.a.string,pearling:l.a.bool,disabled:l.a.bool,snapDragDisabled:l.a.bool,invert:l.a.bool,onBeforeChange:l.a.func,onChange:l.a.func,onAfterChange:l.a.func,onSliderClick:l.a.func},getDefaultProps:function(){return{min:0,max:100,step:1e-5,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",handleClassName:"handle",handleActiveClassName:"active",barClassName:"bar",withBars:!1,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1}},getInitialState:function(){var e=this._or(Ur(this.props.value),Ur(this.props.defaultValue));this.tempArray=e.slice();for(var t=[],n=0;n<e.length;n++)e[n]=this._trimAlignValue(e[n],this.props),t.push(n);return{index:-1,upperBound:208,sliderLength:220,handleSize:12,sliderStart:20,value:e,zIndices:t}},componentWillReceiveProps:function(e){var t=this._or(Ur(e.value),this.state.value);this.tempArray=t.slice();for(var n=[],r=0;r<t.length;r++)n[r]=this._trimAlignValue(t[r],e);this.setState({value:n})},_or:function(e,t){var n=i.a.Children.count(this.props.children);switch(n){case 0:return e.length>0?e:t;case e.length:return e;case t.length:return t;default:return e.length===n&&t.length===n||console.warn(this.constructor.displayName+": Number of values does not match number of children."),function(e,t,n){for(var r=(t-e)/(n-1),o=[],i=0;i<n;i++)o.push(e+r*i);return o}(this.props.min,this.props.max,n)}},getValue:function(){return Vr(this.state.value)},_calcOffset:function(e){return(e-this.props.min)/(this.props.max-this.props.min)*this.state.upperBound},_calcValue:function(e){return e/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},_buildHandleStyle:function(e,t){var n={position:"absolute",willChange:this.state.index>=0?this._posMinKey():""};return n[this._posMinKey()]=e+"px",n},_getClosestIndex:function(e){for(var t=Number.MAX_VALUE,n=-1,r=this.state.value,o=r.length,i=0;i<o;i++){var a=this._calcOffset(r[i]),l=Math.abs(e-a);l<t&&(t=l,n=i)}return n},_calcOffsetFromPosition:function(e){var t=e-this.state.sliderStart;return this.props.invert&&(t=this.state.sliderLength-t),t-=this.state.handleSize/2},_forceValueFromPosition:function(e,t){var n=this._calcOffsetFromPosition(e),r=this._getClosestIndex(n),o=this._trimAlignValue(this._calcValue(n)),i=this.state.value.slice();i[r]=o;for(var a=0;a<i.length-1;a+=1)if(i[a+1]-i[a]<this.props.minDistance)return;this.setState({value:i},t.bind(this,r))},_getMousePosition:function(e){return[e["page"+this._axisKey()],e["page"+this._orthogonalAxisKey()]]},_getTouchPosition:function(e){var t=e.touches[0];return[t["page"+this._axisKey()],t["page"+this._orthogonalAxisKey()]]},_getMouseEventMap:function(){return{mousemove:this._onMouseMove,mouseup:this._onMouseUp}},_getTouchEventMap:function(){return{touchmove:this._onTouchMove,touchend:this._onTouchEnd}},_createOnMouseDown:function(e){return function(t){if(!this.props.disabled){var n=this._getMousePosition(t);this._start(e,n[0]),this._addHandlers(this._getMouseEventMap()),Gr(t)}}.bind(this)},_createOnTouchStart:function(e){return function(t){if(!(this.props.disabled||t.touches.length>1)){var n=this._getTouchPosition(t);this.startPosition=n,this.isScrolling=void 0,this._start(e,n[0]),this._addHandlers(this._getTouchEventMap()),function(e){e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0}(t)}}.bind(this)},_addHandlers:function(e){for(var t in e)document.addEventListener(t,e[t],!1)},_removeHandlers:function(e){for(var t in e)document.removeEventListener(t,e[t],!1)},_start:function(e,t){document.activeElement&&document.activeElement!==document.body&&document.activeElement.blur(),this.hasMoved=!1,this._fireChangeEvent("onBeforeChange");var n=this.state.zIndices;n.splice(n.indexOf(e),1),n.push(e),this.setState({startValue:this.state.value[e],startPosition:t,index:e,zIndices:n})},_onMouseUp:function(){this._onEnd(this._getMouseEventMap())},_onTouchEnd:function(){this._onEnd(this._getTouchEventMap())},_onEnd:function(e){this._removeHandlers(e),this.setState({index:-1},this._fireChangeEvent.bind(this,"onAfterChange"))},_onMouseMove:function(e){var t=this._getMousePosition(e);this._move(t[0])},_onTouchMove:function(e){if(!(e.touches.length>1)){var t=this._getTouchPosition(e);if(void 0===this.isScrolling){var n=t[0]-this.startPosition[0],r=t[1]-this.startPosition[1];this.isScrolling=Math.abs(r)>Math.abs(n)}this.isScrolling?this.setState({index:-1}):(Gr(e),this._move(t[0]))}},_move:function(e){this.hasMoved=!0;var t=this.props,n=this.state,r=n.index,o=n.value,i=o.length,a=o[r],l=e-n.startPosition;t.invert&&(l*=-1);var s=l/(n.sliderLength-n.handleSize)*(t.max-t.min),c=this._trimAlignValue(n.startValue+s),u=t.minDistance;if(!t.pearling){if(r>0){var p=o[r-1];c<p+u&&(c=p+u)}if(r<i-1){var f=o[r+1];c>f-u&&(c=f-u)}}o[r]=c,t.pearling&&i>1&&(c>a?(this._pushSucceeding(o,u,r),this._trimSucceeding(i,o,u,t.max)):c<a&&(this._pushPreceding(o,u,r),this._trimPreceding(i,o,u,t.min))),c!==a&&this.setState({value:o},this._fireChangeEvent.bind(this,"onChange"))},_pushSucceeding:function(e,t,n){var r,o;for(o=e[r=n]+t;null!=e[r+1]&&o>e[r+1];o=e[++r]+t)e[r+1]=this._alignValue(o)},_trimSucceeding:function(e,t,n,r){for(var o=0;o<e;o++){var i=r-o*n;t[e-1-o]>i&&(t[e-1-o]=i)}},_pushPreceding:function(e,t,n){var r,o;for(o=e[r=n]-t;null!=e[r-1]&&o<e[r-1];o=e[--r]-t)e[r-1]=this._alignValue(o)},_trimPreceding:function(e,t,n,r){for(var o=0;o<e;o++){var i=r+o*n;t[o]<i&&(t[o]=i)}},_axisKey:function(){var e=this.props.orientation;return"horizontal"===e?"X":"vertical"===e?"Y":"X"},_orthogonalAxisKey:function(){var e=this.props.orientation;return"horizontal"===e?"Y":"vertical"===e?"X":"Y"},_posMinKey:function(){var e=this.props.orientation;return"horizontal"===e?this.props.invert?"right":"left":"vertical"===e?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},_posMaxKey:function(){var e=this.props.orientation;return"horizontal"===e?this.props.invert?"left":"right":"vertical"===e?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},_sizeKey:function(){var e=this.props.orientation;return"horizontal"===e?"clientWidth":"vertical"===e?"clientHeight":"clientWidth"},_trimAlignValue:function(e,t){return this._alignValue(this._trimValue(e,t),t)},_trimValue:function(e,t){return e<=(t=t||this.props).min&&(e=t.min),e>=t.max&&(e=t.max),e},_alignValue:function(e,t){var n=(e-(t=t||this.props).min)%t.step,r=e-n;return 2*Math.abs(n)>=t.step&&(r+=n>0?t.step:-t.step),parseFloat(r.toFixed(5))},_renderHandle:function(e,t){var n=this.props.handleClassName+" "+this.props.handleClassName+"-"+t+" "+(this.state.index===t?this.props.handleActiveClassName:"");return i.a.createElement("div",{ref:"handle"+t,key:"handle"+t,className:n,style:Yr(Yr({},Wr.handle),e),onMouseDown:this._createOnMouseDown(t),onTouchStart:this._createOnTouchStart(t)})},_renderHandles:function(e){for(var t=e.length,n=this.tempArray,r=0;r<t;r++)n[r]=this._buildHandleStyle(e[r],r);for(var o=this.tempArray,i=0;i<t;i++)o[i]=this._renderHandle(n[i],i);return o},_buildBarStyle:function(e,t){var n={position:"absolute",willChange:this.state.index>=0?this._posMinKey()+","+this._posMaxKey():""};return n[this._posMinKey()]=e,n[this._posMaxKey()]=t,n},_renderBar:function(e,t,n){var r=this.props.barClassName+" "+this.props.barClassName+"-"+e,o=this._buildBarStyle(t,this.state.upperBound-n);return o=0===e&&!Rr()(this.props.defaultValue)||1===e&&Rr()(this.props.defaultValue)?Ar()({},o,Wr.selectedBar):Ar()({},o,Wr.unselectedBar),i.a.createElement("div",{key:"bar"+e,ref:"bar"+e,className:r,style:Yr(Yr({},Wr.bar),o)})},_renderBars:function(e){var t=[],n=e.length-1;t.push(this._renderBar(0,0,e[0]));for(var r=0;r<n;r++)t.push(this._renderBar(r+1,e[r],e[r+1]));return t.push(this._renderBar(n+1,e[n],this.state.upperBound)),t},_onSliderMouseDown:function(e){var t=this;if(!this.props.disabled){if(this.hasMoved=!1,!this.props.snapDragDisabled){var n=this._getMousePosition(e);this._forceValueFromPosition(n[0],(function(e){t._fireChangeEvent("onChange"),t._start(e,n[0]),t._addHandlers(t._getMouseEventMap())}))}Gr(e)}},_onSliderClick:function(e){if(!this.props.disabled&&this.props.onSliderClick&&!this.hasMoved){var t=this._getMousePosition(e),n=this._trimAlignValue(this._calcValue(this._calcOffsetFromPosition(t[0])));this.props.onSliderClick(n)}},_fireChangeEvent:function(e){this.props[e]&&this.props[e](Vr(this.state.value))},render:function(){for(var e=this.tempArray,t=this.state.value,n=this.state.value.length,r=0;r<n;r++)e[r]=this._calcOffset(t[r],r);var o="vertical"===this.props.orientation?Wr.verticalSlider:Wr.horizontalSlider;return i.a.createElement("div",{ref:"slider",style:Yr(Yr({},Wr.base),o),onMouseDown:this._onSliderMouseDown,onClick:this._onSliderClick},this.props.withBars?this._renderBars(e):null,this._renderHandles(e))}}),qr=n(976),Xr=n(975);function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kr,$r=c.c.div.withConfig({displayName:"date-label__FloatDiv",componentId:"sc-g74a89-0"})(["float:",";"],(function(e){return e.right?"right":"left"})),eo=c.c.span.withConfig({displayName:"date-label__TextSpan",componentId:"sc-g74a89-1"})(["font-family:",";font-size:12px;font-weight:400;color:",";"],(function(e){return e.theme["font-family"]}),(function(e){return e.theme.color})),to=Object(c.c)(eo).withConfig({displayName:"date-label__TextSpanClickable",componentId:"sc-g74a89-2"})(["cursor:pointer;"]),no=Object(c.c)(eo).withConfig({displayName:"date-label__IconSpan",componentId:"sc-g74a89-3"})(["font-size:16px;margin:0 3px;vertical-align:middle;"]),ro=function(e){var t=e.value,n=e.minDate,r=e.maxDate,a=e.onChange,l=e.right,s=Zr(i.a.useState(!1),2),c=s[0],u=s[1],p=Object(o.useCallback)((function(e){u(!1),a(e)}),[u,a]),f=Object(o.useCallback)((function(e){"Enter"===e.key&&p(e.target.value)}),[p]),d=Object(o.useCallback)((function(e){p(e.target.value)}),[p]);if(c){var h=i.a.createElement("input",{type:"date",defaultValue:t,min:n,max:r,onKeyUp:f,onBlur:d}),y=i.a.createElement(no,{onClick:function(){return u(!1)}},i.a.createElement(Xr.a,null));return l?i.a.createElement(i.a.Fragment,null,h,y):i.a.createElement(i.a.Fragment,null,y,h)}var m=i.a.createElement(to,{onClick:function(){return u(!0)}},t),b=i.a.createElement(no,{onClick:function(){return u(!0)}},i.a.createElement(qr.a,null));return l?i.a.createElement(i.a.Fragment,null,m,b):i.a.createElement(i.a.Fragment,null,b,m)},oo=function(e){var t,n=e.value,r=e.minDate,o=e.maxDate,a=e.onChange,l=e.right;return t=+n==+n?i.a.createElement(eo,null,n):i.a.createElement(ro,{value:n,minDate:r,maxDate:o,onChange:a,right:l}),i.a.createElement($r,{right:l},t)};function io(e){return(io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==io(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==io(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===io(i)?i:String(i)),r)}var o,i}function lo(e,t){return(lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function so(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=po(e);if(t){var o=po(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return co(this,n)}}function co(e,t){if(t&&("object"===io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return uo(e)}function uo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function po(e){return(po=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var fo,ho=Object(s.b)((function(e){return{branchLengthsToDisplay:e.controls.branchLengthsToDisplay,dateMin:e.controls.dateMin,dateMax:e.controls.dateMax,dateMinNumeric:e.controls.dateMinNumeric,dateMaxNumeric:e.controls.dateMaxNumeric,absoluteDateMin:e.controls.absoluteDateMin,absoluteDateMax:e.controls.absoluteDateMax,absoluteDateMinNumeric:e.controls.absoluteDateMinNumeric,absoluteDateMaxNumeric:e.controls.absoluteDateMaxNumeric}}))(Kr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lo(e,t)}(a,e);var t,n,r,o=so(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).state={lastSliderUpdateTime:Date.now()},t.updateFromSliderNotDebounced=t.updateFromSlider.bind(uo(t),!1),t.updateFromSliderDebounced=t.updateFromSlider.bind(uo(t),!0),t.updateMinFromDatePicker=t.updateMinFromDatePicker.bind(uo(t)),t.updateMaxFromDatePicker=t.updateMaxFromDatePicker.bind(uo(t)),t}return t=a,(n=[{key:"maybeClearMapAnimationInterval",value:function(){window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference&&(clearInterval(window.NEXTSTRAIN.animationTickReference),window.NEXTSTRAIN.animationTickReference=null,this.props.dispatch({type:At.H,data:"Play"}))}},{key:"updateFromSlider",value:function(e,t){if(this.maybeClearMapAnimationInterval(),e){var n=Date.now();if(n<this.state.lastSliderUpdateTime+100)return null;this.setState({lastSliderUpdateTime:n})}var r={min:Object(an.g)(t[0]),max:Object(an.g)(t[1])};return this.props.dateMin!==r.min&&this.props.dateMax===r.max?this.props.dispatch(Object(_.c)({newMin:r.min,quickdraw:e})):this.props.dateMin===r.min&&this.props.dateMax!==r.max?this.props.dispatch(Object(_.c)({newMax:r.max,quickdraw:e})):this.props.dateMin!==r.min&&this.props.dateMax!==r.max?this.props.dispatch(Object(_.c)({newMin:r.min,newMax:r.max,quickdraw:e})):!1===e&&this.props.dispatch(Object(_.c)({quickdraw:e})),null}},{key:"updateMinFromDatePicker",value:function(e){this.props.dispatch(Object(_.c)({newMin:e}))}},{key:"updateMaxFromDatePicker",value:function(e){this.props.dispatch(Object(_.c)({newMax:e}))}},{key:"render",value:function(){return"divOnly"===this.props.branchLengthsToDisplay?null:i.a.createElement("div",null,i.a.createElement("div",{style:{width:I.l}},i.a.createElement(Qr,{min:this.props.absoluteDateMinNumeric,max:this.props.absoluteDateMaxNumeric,defaultValue:[this.props.absoluteDateMinNumeric,this.props.absoluteDateMaxNumeric],value:[this.props.dateMinNumeric,this.props.dateMaxNumeric],onChange:this.updateFromSliderDebounced,onAfterChange:this.updateFromSliderNotDebounced,minDistance:I.F*(this.props.absoluteDateMaxNumeric-this.props.absoluteDateMinNumeric),pearling:!0,withBars:!0})),i.a.createElement("div",{style:{height:5}}),i.a.createElement("div",{style:{width:I.l}},i.a.createElement(oo,{value:this.props.dateMin,minDate:this.props.absoluteDateMin,maxDate:this.props.dateMax,onChange:this.updateMinFromDatePicker}),i.a.createElement(oo,{right:!0,value:this.props.dateMax,minDate:this.props.dateMin,maxDate:this.props.absoluteDateMax,onChange:this.updateMaxFromDatePicker})))}}])&&ao(t.prototype,n),r&&ao(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||Kr,yo=i.a.createElement(i.a.Fragment,null,"Use this slider to filter the data based on the sample date. This may include inferred dates for ancestral nodes in the tree, and thus the date range here can be wider than the sample collection range."),mo=ho,bo=n(849),vo=n(821);function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==go(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==go(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===go(i)?i:String(i)),r)}var o,i}function jo(e,t){return(jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function So(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oo(e);if(t){var o=Oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lo(this,n)}}function Lo(e,t){if(t&&("object"===go(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Oo(e){return(Oo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xo,Co=Object(s.b)((function(e){return{absoluteDateMin:e.controls.absoluteDateMin,absoluteDateMax:e.controls.absoluteDateMax,animationPlayPauseButton:e.controls.animationPlayPauseButton,branchLengthsToDisplay:e.controls.branchLengthsToDisplay}}))(fo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jo(e,t)}(a,e);var t,n,r,o=So(a);function a(){return wo(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"getPlayPauseButton",value:function(){var e=this;return i.a.createElement(vo.d,{onClick:function(){"Play"===e.props.animationPlayPauseButton?e.props.dispatch({type:At.H,data:"Pause"}):e.props.dispatch({type:At.H,data:"Play"})}},i.a.createElement("span",null,"Play"===this.props.animationPlayPauseButton?i.a.createElement(u.k,{color:"#888"}):i.a.createElement(u.j,{color:"#888"})," "+this.props.t("Play"===this.props.animationPlayPauseButton?"Play":"Pause")))}},{key:"getResetButton",value:function(){var e=this;return i.a.createElement(vo.d,{onClick:function(){e.props.dispatch({type:At.H,data:"Play"}),e.props.dispatch(Object(_.c)({newMin:e.props.absoluteDateMin,newMax:e.props.absoluteDateMax,quickdraw:!1}))}},i.a.createElement("span",null,i.a.createElement(u.r,{color:"#888"})," "+this.props.t("Reset")))}},{key:"render",value:function(){return"divOnly"===this.props.branchLengthsToDisplay?null:i.a.createElement("div",{style:{marginBottom:0}},i.a.createElement(bo.a,{justifyContent:"space-between"},this.getPlayPauseButton(),this.getResetButton()))}}])&&Mo(t.prototype,n),r&&Mo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||fo,To=Object(d.a)()(Co),Eo=n(977);function _o(e){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Do(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function No(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==_o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===_o(i)?i:String(i)),r)}var o,i}function zo(e,t){return(zo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Po(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ko(e);if(t){var o=ko(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ao(this,n)}}function Ao(e,t){if(t&&("object"===_o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ro,Bo=Object(s.b)((function(e){return{selected:e.controls.explodeAttr,available:e.metadata.colorings,showThisUI:!e.controls.showTreeToo}}))(xo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zo(e,t)}(a,e);var t,n,r,o=Po(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).change=function(e){t.props.dispatch(Object(_.d)(e.value))},t}return t=a,(n=[{key:"gatherAttrs",value:function(){var e=Object.entries(this.props.available).filter((function(e){var t=Do(e,2);return t[0],"continuous"!==t[1].type})).filter((function(e){return"gt"!==Do(e,1)[0]})).map((function(e){var t=Do(e,2),n=t[0];return{value:n,label:t[1].title||n}}));return this.props.selected&&e.unshift({value:void 0,label:"None"}),e}},{key:"render",value:function(){var e=this;if(!this.props.showThisUI)return null;var t=this.props,n=t.t,r=t.tooltip,o=t.mobile,a=this.gatherAttrs();return i.a.createElement("div",{style:{paddingTop:10}},i.a.createElement(vo.g,{"data-tip":!0,"data-for":"explode_tree"},i.a.createElement("span",null,i.a.createElement(Eo.a,{style:{marginRight:"5px"}}),n("sidebar:Explode Tree By")),r&&!o&&i.a.createElement(i.a.Fragment,null,i.a.createElement(vo.e,{"data-tip":!0,"data-for":"select-explode"},i.a.createElement(u.i,null)),i.a.createElement(vo.h,{place:"bottom",type:"dark",effect:"solid",id:"select-explode"},r))),i.a.createElement("div",{style:{width:I.l,fontSize:14}},i.a.createElement(vr.b,{value:a.filter((function(t){return t.value===e.props.selected})),options:a,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:this.change})))}}])&&No(t.prototype,n),r&&No(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||xo,Fo=Object(d.a)()(Bo),Yo=c.c.label.withConfig({displayName:"toggle__ToggleBackground",componentId:"sc-1r21f6e-0"})(["position:relative;display:inline-block;width:35px;height:21px;input{display:none;}input:checked{background-color:",";}"],(function(e){return e.theme.unselectedColor})),Ho=Object(c.c)(vo.f).withConfig({displayName:"toggle__ToggleSubtitle",componentId:"sc-1r21f6e-1"})(["margin-left:40px;margin-top:4px;width:200px;"]),Wo=c.c.div.withConfig({displayName:"toggle__Slider",componentId:"sc-1r21f6e-2"})(["&{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:",';-webkit-transition:.4s;transition:.4s;border-radius:12px;}&:before{position:absolute;content:"";height:15px;width:15px;left:4px;bottom:3px;background-color:#FFF;-webkit-transition:.4s;transition:.4s;border-radius:50%;}input:checked + &:before{-webkit-transform:translateX(13px);-ms-transform:translateX(13px);transform:translateX(13px);}'],(function(e){return e.theme.unselectedBackground})),Go=c.c.input.withConfig({displayName:"toggle__Input",componentId:"sc-1r21f6e-3"})(['&{margin-left:"40px"}&:checked + ',"{background-color:",";}&:focus{box-shadow:0 0 1px #2196F3;}"],Wo,(function(e){return e.theme.selectedColor})),Uo=function(e){var t=e.display,n=e.on,r=e.callback,o=e.label,a=e.style,l=void 0===a?{}:a;return t?i.a.createElement("div",{style:l},i.a.createElement(Yo,null,i.a.createElement(Go,{type:"checkbox",checked:n,onChange:r}),i.a.createElement(Wo,null),""===o?null:i.a.createElement(Ho,null,o))):null};function Vo(e){return(Vo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Vo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Vo(i)?i:String(i)),r)}var o,i}function qo(e,t){return(qo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jo(e);if(t){var o=Jo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Zo(this,n)}}function Zo(e,t){if(t&&("object"===Vo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ko=Object(s.b)((function(e){return{selected:e.controls.selectedBranchLabel,showAll:e.controls.showAllBranchLabels,available:e.tree.availableBranchLabels,canRenderBranchLabels:e.controls.canRenderBranchLabels}}))(Ro=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qo(e,t)}(a,e);var t,n,r,o=Xo(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=o.call(this,e)).change=function(e){t.props.dispatch({type:At.m,value:e.value})},t}return t=a,(n=[{key:"render",value:function(){var e=this;if(!this.props.canRenderBranchLabels)return null;var t=this.props.t,n=this.props.available.map((function(e){return{value:e,label:e}}));return i.a.createElement("div",{style:{paddingTop:5}},i.a.createElement(vo.f,null,t("sidebar:Branch Labels")),i.a.createElement("div",{style:{width:I.l,fontSize:14}},i.a.createElement(vr.b,{value:n.filter((function(t){return t.value===e.props.selected})),options:n,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:this.change})),"none"!==this.props.selected&&i.a.createElement(Uo,{display:!0,on:this.props.showAll,callback:function(){return e.props.dispatch({type:At.X,value:!e.props.showAll})},label:t("sidebar:Show all labels"),style:{paddingBottom:"5px",paddingTop:"10px"}}))}}])&&Qo(t.prototype,n),r&&Qo(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||Ro,$o=Object(d.a)()(Ko),ei=n(867),ti=n(854);function ni(e){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ni(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ni(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ai,li,si=function(e){var t=e.layout,n=e.showBranches,r=e.showRegression,o=e.x,i=e.xLabel,a=e.y,l=e.yLabel;return function(e,s){if(!window.NEXTSTRAIN||!window.NEXTSTRAIN.animationTickReference){var c=s(),u=c.controls,p=c.tree,f=c.metadata;if("rect"!==t&&"unrooted"!==t&&"radial"!==t){var d="clock"===t||"scatter"===t?Object(ti.e)(u,f,p,"clock"===t):u.scatterVariables;o&&i&&(d=oi(oi({},d),Object(ti.b)({x:o,xLabel:i},"x",u,p,f))),a&&l&&(d=oi(oi({},d),Object(ti.b)({y:a,yLabel:l},"y",u,p,f))),void 0!==n&&(d.showBranches=n),void 0!==r&&(d.showRegression=r),"scatter"!==t||d.xContinuous&&d.yContinuous||(d.showRegression=!1),e({type:At.s,layout:t||u.layout,scatterVariables:oi({},d),canRenderBranchLabels:d.showBranches})}else e({type:At.s,layout:t,scatterVariables:u.scatterVariables,canRenderBranchLabels:!0})}}};function ci(e){return(ci="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ui(){return(ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bi(r.key),r)}}function di(e,t){return(di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mi(e);if(t){var o=mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yi(this,n)}}function yi(e,t){if(t&&("object"===ci(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bi(e){var t=function(e,t){if("object"!==ci(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ci(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ci(t)?t:String(t)}var vi,gi,wi,Mi=Object(c.d)(ei.f),ji=Object(c.d)(ei.e),Si=Object(c.d)(ei.h),Li=Object(c.d)(ei.a),Oi=Object(c.d)(ei.g),xi=c.c.div.withConfig({displayName:"choose-layout__RowContainer",componentId:"sc-16x4jtt-0"})(["padding:0px 5px 1px 5px;"]),Ci=Object(s.b)((function(e){return{layout:e.controls.layout,scatterVariables:e.controls.scatterVariables,colorings:e.metadata.colorings,colorBy:e.controls.colorBy,showTreeToo:e.controls.showTreeToo,branchLengthsToDisplay:e.controls.branchLengthsToDisplay}}))((li=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&di(e,t)}(a,e);var t,n,r,o=hi(a);function a(){return pi(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"renderScatterplotAxesSelector",value:function(){var e=this,t=Object(ti.c)(this.props.colorings,this.props.colorBy),n=t.filter((function(t){return t.value===e.props.scatterVariables.x}))[0],r=t.filter((function(t){return t.value===e.props.scatterVariables.y}))[0],o={options:t,isClearable:!1,isSearchable:!1,isMulti:!1};return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ei,null,i.a.createElement(_i,null,"x"),i.a.createElement(Di,null,i.a.createElement(vr.b,ui({},o,{value:t.filter((function(e){return e.value===n.value})),onChange:function(t){return e.props.dispatch(si({x:t.value,xLabel:t.label}))}})))),i.a.createElement(Ei,null,i.a.createElement(_i,null,"y"),i.a.createElement(Di,null,i.a.createElement(vr.b,ui({},o,{value:t.filter((function(e){return e.value===r.value})),onChange:function(t){return e.props.dispatch(si({y:t.value,yLabel:t.label}))}})))))}},{key:"renderBranchToggle",value:function(){var e=this;return i.a.createElement(Ei,{padAbove:!0},i.a.createElement(Uo,{display:!0,on:this.props.scatterVariables.showBranches,callback:function(){return e.props.dispatch(si({showBranches:!e.props.scatterVariables.showBranches}))},label:"Show branches"}))}},{key:"renderRegressionToggle",value:function(){var e=this;return"scatter"!==this.props.layout||this.props.scatterVariables.xContinuous&&this.props.scatterVariables.yContinuous?i.a.createElement(Ei,{padAbove:!0},i.a.createElement(Uo,{display:!0,on:this.props.scatterVariables.showRegression,callback:function(){return e.props.dispatch(si({showRegression:!e.props.scatterVariables.showRegression}))},label:"Show regression"})):null}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.props.showTreeToo)return null;var n=this.props.layout;return i.a.createElement("div",{style:{marginBottom:15}},i.a.createElement(vo.f,null,t("sidebar:Layout")),i.a.createElement(xi,null,i.a.createElement(Mi,{width:25,selected:"rect"===n}),i.a.createElement(vo.d,{selected:"rect"===n,onClick:function(){return e.props.dispatch(si({layout:"rect"}))}},t("sidebar:rectangular"))),i.a.createElement(xi,null,i.a.createElement(ji,{width:25,selected:"radial"===n}),i.a.createElement(vo.d,{selected:"radial"===n,onClick:function(){return e.props.dispatch(si({layout:"radial"}))}},t("sidebar:radial"))),i.a.createElement(xi,null,i.a.createElement(Si,{width:25,selected:"unrooted"===n}),i.a.createElement(vo.d,{selected:"unrooted"===n,onClick:function(){return e.props.dispatch(si({layout:"unrooted"}))}},t("sidebar:unrooted"))),"divAndDate"===this.props.branchLengthsToDisplay?i.a.createElement(xi,null,i.a.createElement(Li,{width:25,selected:"clock"===n}),i.a.createElement(vo.d,{selected:"clock"===n,onClick:function(){return e.props.dispatch(si({layout:"clock"}))}},t("sidebar:clock")),"clock"===n&&this.renderBranchToggle(),"clock"===n&&this.renderRegressionToggle()):null,i.a.createElement(xi,null,i.a.createElement(Oi,{width:25,selected:"scatter"===n}),i.a.createElement(vo.d,{selected:"scatter"===n,onClick:function(){return e.props.dispatch(si({layout:"scatter"}))}},t("sidebar:scatter")),"scatter"===n&&this.renderScatterplotAxesSelector(),"scatter"===n&&this.renderBranchToggle(),"scatter"===n&&this.renderRegressionToggle()))}}])&&fi(t.prototype,n),r&&fi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component),vi=li,gi="propTypes",wi={layout:l.a.string.isRequired,dispatch:l.a.func.isRequired},(gi=bi(gi))in vi?Object.defineProperty(vi,gi,{value:wi,enumerable:!0,configurable:!0,writable:!0}):vi[gi]=wi,ai=li))||ai,Ti=Object(d.a)()(Ci),Ei=c.c.div.withConfig({displayName:"choose-layout__ScatterVariableContainer",componentId:"sc-16x4jtt-1"})(["display:flex;flex-direction:row;align-content:stretch;flex-wrap:nowrap;height:100%;order:0;flex-grow:0;flex-shrink:1;flex-basis:auto;align-self:auto;padding:","px 0px 2px 15px;"],(function(e){return e.padAbove?"2":"0"})),_i=c.c.div.withConfig({displayName:"choose-layout__ScatterAxisName",componentId:"sc-16x4jtt-2"})(["display:flex;flex-direction:column;justify-content:center;min-width:18px;font-size:14px;font-weight:400;font-family:",";color:",";"],(function(e){return e.theme["font-family"]}),(function(e){return e.theme.color})),Di=c.c.div.withConfig({displayName:"choose-layout__ScatterSelectContainer",componentId:"sc-16x4jtt-3"})(["width:","px;font-size:12px;"],I.l-18);function Ii(e){return(Ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pi(r.key),r)}}function Pi(e){var t=function(e,t){if("object"!==Ii(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ii(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ii(t)?t:String(t)}function Ai(e,t){return(Ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Bi(e);if(t){var o=Bi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ri(this,n)}}function Ri(e,t){if(t&&("object"===Ii(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fi,Yi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ai(e,t)}(a,e);var t,n,r,o=ki(a);function a(){return Ni(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"changeDataset",value:function(e){Object(zt.a)("change-virus-to-".concat(e.replace(/\//g,""))),window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference&&(clearInterval(window.NEXTSTRAIN.animationTickReference),window.NEXTSTRAIN.animationTickReference=null,this.props.dispatch({type:At.H,data:"Play"})),this.props.dispatch(Object(er.a)({path:e}))}},{key:"render",value:function(){var e=this,t=this.props.options||[];return i.a.createElement("div",{style:{width:I.l,fontSize:14}},i.a.createElement(vr.b,{value:t.filter((function(t){return t.value===e.props.selected})),options:t,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){t.value!==e.props.selected&&e.changeDataset("/".concat(t.value))}}))}}])&&zi(t.prototype,n),r&&zi(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component),Hi=function(e){var t=e.title,n=e.tooltip,r=e.mobile;return i.a.createElement(vo.b,null,i.a.createElement("span",null,t),n&&!r&&i.a.createElement(i.a.Fragment,null,i.a.createElement(vo.c,{"data-tip":!0,"data-for":t},i.a.createElement(u.i,null)),i.a.createElement(vo.h,{place:"bottom",type:"dark",effect:"solid",id:t},n)))};function Wi(e){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vi(r.key),r)}}function Vi(e){var t=function(e,t){if("object"!==Wi(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wi(t)?t:String(t)}function Qi(e,t){return(Qi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zi(e);if(t){var o=Zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xi(this,n)}}function Xi(e,t){if(t&&("object"===Wi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zi(e){return(Zi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ji,Ki=Object(s.b)((function(e){return{available:e.controls.available}}))(Fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qi(e,t)}(a,e);var t,n,r,o=qi(a);function a(){return Gi(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.t;if(!this.props.available||!this.props.available.datasets||!this.props.available.datasets.length)return null;var n=window.location.pathname.replace(/^\//,"").replace(/\/$/,"").split(":")[0].split("/"),r=n.map((function(t,r){return Array.from(new Set(e.props.available.datasets.filter((function(e){return t=e.request.split("/"),o=n,i=r,t.slice(0,i).every((function(e,t){return e===o[t]}));var t,o,i})).map((function(e){return e.request.split("/")[r]})))).map((function(e){return{value:n.slice(0,r).concat(e).join("/"),label:e}}))}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(Hi,{title:t("sidebar:Dataset")}),r.map((function(t,r){return i.a.createElement(Yi,{key:n[r],dispatch:e.props.dispatch,selected:n.slice(0,r+1).join("/"),options:t})})))}}])&&Ui(t.prototype,n),r&&Ui(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||Fi,$i=Object(d.a)()(Ki),ea=n(855);function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function na(e){return function(e){if(Array.isArray(e))return ra(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ra(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ia(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aa(r.key),r)}}function aa(e){var t=function(e,t){if("object"!==ta(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ta(t)?t:String(t)}function la(e,t){return(la=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function sa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ua(e);if(t){var o=ua(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ca(this,n)}}function ca(e,t){if(t&&("object"===ta(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ua(e){return(ua=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pa,fa=Object(s.b)((function(e){return{available:e.controls.available,treeName:e.tree.name,showTreeToo:e.controls.showTreeToo}}))(Ji=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&la(e,t)}(a,e);var t,n,r,o=sa(a);function a(){return oa(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.t;if(!this.props.available||!this.props.available.datasets)return null;var n=window.location.pathname.replace(/^\//,"").replace(/\/$/,"").split(":")[0],r=[];this.props.available.datasets.filter((function(e){return e.request===n&&(r=na(e.secondTreeOptions)),null})),this.props.showTreeToo&&r.unshift("REMOVE");var o=r.map((function(e){return{value:e,label:e}}));return i.a.createElement("div",null,i.a.createElement(vo.f,{spaceAbove:!0},t("sidebar:Second Tree")),i.a.createElement("div",{key:"treetooselect",style:{width:I.l,fontSize:14}},i.a.createElement(vr.b,{name:"selectTreeToo",id:"selectTreeToo",value:o.filter((function(t){return t.value===e.props.showTreeToo})),options:o,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){"REMOVE"===t.value?e.props.dispatch({type:At.O}):e.props.dispatch(Object(ea.c)(t.value,n))}})))}}])&&ia(t.prototype,n),r&&ia(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||Ji,da=Object(d.a)()(fa),ha=n(898);function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ma(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,va(r.key),r)}}function va(e){var t=function(e,t){if("object"!==ya(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ya(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ya(t)?t:String(t)}function ga(e,t){return(ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ja(e);if(t){var o=ja(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ma(this,n)}}function Ma(e,t){if(t&&("object"===ya(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ja(e){return(ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sa,La=Object(s.b)((function(e){return{distanceMeasure:e.controls.distanceMeasure,layout:e.controls.layout,showTreeToo:e.controls.showTreeToo,branchLengthsToDisplay:e.controls.branchLengthsToDisplay,temporalConfidence:e.controls.temporalConfidence}}))(pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ga(e,t)}(a,e);var t,n,r,o=wa(a);function a(){return ma(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.t;return"divAndDate"!==this.props.branchLengthsToDisplay||"scatter"===this.props.layout||"clock"===this.props.layout?null:i.a.createElement("div",{style:{marginBottom:0}},i.a.createElement(vo.f,null,t("sidebar:Branch Length")),i.a.createElement(vo.d,{selected:"num_date"===this.props.distanceMeasure,onClick:function(){Object(zt.a)("tree-metric-temporal"),e.props.dispatch({type:At.o,data:"num_date"})}},t("sidebar:time")),i.a.createElement("span",{style:{paddingRight:"12px"}}),i.a.createElement(vo.d,{selected:"div"===this.props.distanceMeasure,onClick:function(){Object(zt.a)("tree-metric-temporal"),e.props.dispatch({type:At.o,data:"div"})}},t("sidebar:divergence")),this.props.showTreeToo?null:i.a.createElement("div",{style:{margin:5}},i.a.createElement(Uo,{display:this.props.temporalConfidence.display,on:this.props.temporalConfidence.on,callback:function(){return e.props.dispatch(Object(_.e)())},label:t("sidebar:Show confidence intervals")})))}}])&&ba(t.prototype,n),r&&ba(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||pa,Oa=Object(d.a)()(La);function xa(e){return(xa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ca(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ea(r.key),r)}}function Ea(e){var t=function(e,t){if("object"!==xa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==xa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xa(t)?t:String(t)}function _a(e,t){return(_a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Da(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Na(e);if(t){var o=Na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ia(this,n)}}function Ia(e,t){if(t&&("object"===xa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Na(e){return(Na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var za,Pa=c.c.span.withConfig({displayName:"panel-layout__ButtonText",componentId:"sc-12zrah-0"})(["margin:5px;position:relative;top:-1px;"]),Aa=Object(c.d)(ei.c),ka=Object(c.d)(ei.d),Ra=Object(s.b)((function(e){return{panelLayout:e.controls.panelLayout,canTogglePanelLayout:e.controls.canTogglePanelLayout}}))(Sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_a(e,t)}(a,e);var t,n,r,o=Da(a);function a(){return Ca(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.t;return this.props.canTogglePanelLayout?i.a.createElement("div",{style:{marginTop:0,marginBottom:10}},i.a.createElement(Aa,{width:22,selected:"full"===this.props.panelLayout}),i.a.createElement(vo.d,{selected:"full"===this.props.panelLayout,onClick:function(){Object(zt.a)("change-layout-full"),e.props.dispatch({type:At.w,data:"full"})}},i.a.createElement(Pa,null,t("sidebar:full"))),i.a.createElement(ka,{width:22,selected:"grid"===this.props.panelLayout}),i.a.createElement(vo.d,{selected:"grid"===this.props.panelLayout,onClick:function(){Object(zt.a)("change-layout-grid"),e.props.dispatch({type:At.w,data:"grid"})}},i.a.createElement(Pa,null,t("sidebar:grid")))):null}}])&&Ta(t.prototype,n),r&&Ta(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||Sa,Ba=Object(d.a)()(Ra);function Fa(e){return(Fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ya(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ha(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Wa(r.key),r)}}function Wa(e){var t=function(e,t){if("object"!==Fa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Fa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Fa(t)?t:String(t)}function Ga(e,t){return(Ga=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ua(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qa(e);if(t){var o=Qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Va(this,n)}}function Va(e,t){if(t&&("object"===Fa(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qa,Xa=Object(s.b)((function(e){return{metadata:e.metadata,geoResolution:e.controls.geoResolution}}))(za=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ga(e,t)}(a,e);var t,n,r,o=Ua(a);function a(){return Ya(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"getGeoResolutionOptions",value:function(){return this.props.metadata.loaded?this.props.metadata.geoResolutions.map((function(e){return{value:e.key,label:e.title||e.key}})):[]}},{key:"changeGeoResolution",value:function(e){Object(zt.a)("change-geo-resolution"),this.props.dispatch({type:At.q,data:e})}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.getGeoResolutionOptions();return i.a.createElement(i.a.Fragment,null,i.a.createElement(vo.f,{spaceAbove:!0},t("sidebar:Geographic resolution")),i.a.createElement("div",{style:{marginBottom:10,width:I.l,fontSize:14}},i.a.createElement(vr.b,{name:"selectGeoResolution",id:"selectGeoResolution",value:n.filter((function(t){return t.value===e.props.geoResolution})),options:n,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){e.changeGeoResolution(t.value)}})))}}])&&Ha(t.prototype,n),r&&Ha(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||za,Za=Object(d.a)()(Xa);function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,el(r.key),r)}}function el(e){var t=function(e,t){if("object"!==Ja(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ja(t)?t:String(t)}function tl(e,t){return(tl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ol(e);if(t){var o=ol(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return rl(this,n)}}function rl(e,t){if(t&&("object"===Ja(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var il,al=Object(s.b)((function(e){return{showTransmissionLines:e.controls.showTransmissionLines}}))(qa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tl(e,t)}(a,e);var t,n,r,o=nl(a);function a(){return Ka(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.t;return i.a.createElement("div",{style:{marginBottom:10,width:I.l,fontSize:14}},i.a.createElement(Uo,{display:!0,on:this.props.showTransmissionLines,callback:function(){e.props.dispatch({type:At.bb,data:!e.props.showTransmissionLines})},label:t("sidebar:Show transmission lines")}))}}])&&$a(t.prototype,n),r&&$a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||qa,ll=Object(d.a)()(al),sl=n(862);function cl(e){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ul(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fl(r.key),r)}}function fl(e){var t=function(e,t){if("object"!==cl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==cl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===cl(t)?t:String(t)}function dl(e,t){return(dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ml(e);if(t){var o=ml(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yl(this,n)}}function yl(e,t){if(t&&("object"===cl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ml(e){return(ml=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bl,vl=Object(s.b)((function(e){return{controls:e.controls,frequencies:e.frequencies,tree:e.tree}}))(il=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dl(e,t)}(a,e);var t,n,r,o=hl(a);function a(){return ul(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.t;return this.props.frequencies.loaded&&this.props.tree.loaded&&Object(sl.a)(this.props.frequencies.data,this.props.frequencies.pivots,this.props.tree.nodes,this.props.tree.visibility)?i.a.createElement("div",{style:{marginBottom:10,width:I.l,fontSize:14}},i.a.createElement(Uo,{display:!0,on:this.props.controls.normalizeFrequencies,callback:function(){var t=!e.props.controls.normalizeFrequencies,n=Object(sl.b)(e.props.frequencies.data,e.props.frequencies.pivots,e.props.tree.nodes,e.props.tree.visibility,e.props.controls.colorScale,e.props.controls.colorBy,t);e.props.dispatch({type:At.E,matrix:n,normalizeFrequencies:t})},label:t("sidebar:Normalize frequencies")})):i.a.createElement(vo.f,null,"(Frequencies cannot be normalized)")}}])&&pl(t.prototype,n),r&&pl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||il,gl=Object(d.a)()(vl);function wl(e){return(wl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ml(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Sl(r.key),r)}}function Sl(e){var t=function(e,t){if("object"!==wl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===wl(t)?t:String(t)}function Ll(e,t){return(Ll=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ol(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cl(e);if(t){var o=Cl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return xl(this,n)}}function xl(e,t){if(t&&("object"===wl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Cl(e){return(Cl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tl,El=Object(s.b)((function(e){return{branchLengthsToDisplay:e.controls.branchLengthsToDisplay,mapAnimationStartDate:e.controls.mapAnimationStartDate,mapAnimationDurationInMilliseconds:e.controls.mapAnimationDurationInMilliseconds,mapAnimationCumulative:e.controls.mapAnimationCumulative,mapAnimationShouldLoop:e.controls.mapAnimationShouldLoop}}))(bl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ll(e,t)}(a,e);var t,n,r,o=Ol(a);function a(){return Ml(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"handleChangeAnimationTimeClicked",value:function(e){var t=this;return function(){var n;window.NEXTSTRAIN&&window.NEXTSTRAIN.animationTickReference||(Object(zt.a)("change-animation-time"),"slow"===e?n=6e4:"medium"===e?n=3e4:"fast"===e?n=15e3:console.warn("Odd... controls/map-animation.js tried to set an animation speed we don't offer..."),t.props.dispatch({type:At.l,data:n}))}}},{key:"render",value:function(){var e=this,t=this.props.t;return"divOnly"===this.props.branchLengthsToDisplay?null:i.a.createElement("div",{id:"mapAnimationControls"},i.a.createElement(vo.f,{spaceAbove:!0},t("sidebar:Animation Speed")),i.a.createElement(vo.d,{selected:6e4===this.props.mapAnimationDurationInMilliseconds,onClick:this.handleChangeAnimationTimeClicked("slow")},t("sidebar:Slow")),i.a.createElement(vo.d,{selected:3e4===this.props.mapAnimationDurationInMilliseconds,onClick:this.handleChangeAnimationTimeClicked("medium")},t("sidebar:Medium")),i.a.createElement(vo.d,{selected:15e3===this.props.mapAnimationDurationInMilliseconds,onClick:this.handleChangeAnimationTimeClicked("fast")},t("sidebar:Fast")),i.a.createElement("div",{style:{marginBottom:5}}),i.a.createElement(Uo,{display:!0,on:this.props.mapAnimationShouldLoop,callback:function(){e.props.dispatch({type:At.j,data:!e.props.mapAnimationShouldLoop})},label:t("sidebar:Loop animation")}),i.a.createElement("br",null),i.a.createElement(Uo,{display:!0,on:this.props.mapAnimationCumulative,callback:function(){Object(zt.a)("change-animation-cumulative"),e.props.dispatch({type:At.i,data:!e.props.mapAnimationCumulative})},label:t("sidebar:Animate cumulative history")}))}}])&&jl(t.prototype,n),r&&jl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||bl,_l=Object(d.a)()(El);function Dl(e){return(Dl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Il(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zl(r.key),r)}}function zl(e){var t=function(e,t){if("object"!==Dl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Dl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Dl(t)?t:String(t)}function Pl(e,t){return(Pl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Al(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rl(e);if(t){var o=Rl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kl(this,n)}}function kl(e,t){if(t&&("object"===Dl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rl(e){return(Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bl,Fl=Object(s.b)((function(e){return{panelsAvailable:e.controls.panelsAvailable,panelsToDisplay:e.controls.panelsToDisplay,showTreeToo:e.controls.showTreeToo}}))(Tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pl(e,t)}(a,e);var t,n,r,o=Al(a);function a(){return Il(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.t,n=this.props.panelsAvailable.slice();return this.props.showTreeToo&&-1!==n.indexOf("map")&&n.splice(n.indexOf("map"),1),n.map((function(n){return i.a.createElement(Uo,{key:n,display:!0,on:-1!==e.props.panelsToDisplay.indexOf(n),callback:function(){return e.props.dispatch(Object(on.c)(n))},label:t("sidebar:Show "+n),style:{paddingBottom:"10px"}})}))}}])&&Nl(t.prototype,n),r&&Nl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||Tl,Yl=Object(d.a)()(Fl);function Hl(e){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ul(r.key),r)}}function Ul(e){var t=function(e,t){if("object"!==Hl(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hl(t)?t:String(t)}function Vl(e,t){return(Vl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ql(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Xl(e);if(t){var o=Xl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ql(this,n)}}function ql(e,t){if(t&&("object"===Hl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xl(e){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zl,Jl=Object(s.b)((function(e){return{showTreeToo:e.controls.showTreeToo,showTangle:e.controls.showTangle}}))(Bl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vl(e,t)}(a,e);var t,n,r,o=Ql(a);function a(){return Wl(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this;return this.props.showTreeToo?i.a.createElement(Uo,{display:!0,on:this.props.showTangle,callback:function(){return e.props.dispatch({type:At.Z})},label:"Show Tanglegram",style:{paddingTop:"10px"}}):null}}])&&Gl(t.prototype,n),r&&Gl(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||Bl,Kl=n(799);function $l(e){return($l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */es=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function c(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),l=new O(o||[]);return r(a,"_invoke",{value:M(e,n,l)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p={};function f(){}function d(){}function h(){}var y={};s(y,i,(function(){return this}));var m=Object.getPrototypeOf,b=m&&m(m(x([])));b&&b!==t&&n.call(b,i)&&(y=b);var v=h.prototype=f.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var o;r(this,"_invoke",{value:function(r,i){function a(){return new t((function(o,a){!function r(o,i,a,l){var s=u(e[o],e,i);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==$l(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,a,l)}),(function(e){r("throw",e,a,l)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return r("throw",e,a,l)}))}l(s.arg)}(r,i,o,a)}))}return o=o?o.then(a,a):a()}})}function M(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var l=j(a,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function j(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=u(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function x(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=h,r(v,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:d,configurable:!0}),d.displayName=s(h,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,l,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(c(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),s(v,l,"Generator"),s(v,i,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;L(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function ts(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function ns(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ts(i,r,o,a,l,"next",e)}function l(e){ts(i,r,o,a,l,"throw",e)}a(void 0)}))}}function rs(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function os(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,is(r.key),r)}}function is(e){var t=function(e,t){if("object"!==$l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$l(t)?t:String(t)}function as(e,t){return(as=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ls(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=cs(e);if(t){var o=cs(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ss(this,n)}}function ss(e,t){if(t&&("object"===$l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cs(e){return(cs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var us=Object(s.b)((function(e){return{metadata:e.metadata,language:e.general.language}}))(Zl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&as(e,t)}(u,e);var t,r,o,a,l,s,c=ls(u);function u(){return rs(this,u),c.apply(this,arguments)}return t=u,(r=[{key:"ensureLanguageResources",value:(s=ns(es().mark((function e(t){var r,o,i,a;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0,o=["language","sidebar","translation"];case 1:if(!(r<o.length)){e.next=17;break}if(i=o[r],Kl.a.hasResourceBundle(t,i)){e.next=14;break}return e.prev=4,e.next=7,n(919)("./".concat(t,"/").concat(i,".json"));case 7:a=e.sent,Kl.a.addResourceBundle(t,i,a.default),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Language ".concat(t," not found!"));case 14:r++,e.next=1;break;case 17:case"end":return e.stop()}}),e,null,[[4,11]])}))),function(e){return s.apply(this,arguments)})},{key:"componentWillMount",value:(l=ns(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.language&&"en"!==this.props.language){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.ensureLanguageResources(this.props.language);case 4:Kl.a.changeLanguage(this.props.language);case 5:case"end":return e.stop()}}),e,this)}))),function(){return l.apply(this,arguments)})},{key:"getlanguageOptions",value:function(){return[{value:"de",label:"Deutsch"},{value:"en",label:"English"},{value:"es",label:"Español"},{value:"ru",label:"Русский"},{value:"lt",label:"Lietuvių"},{value:"pt",label:"Português"},{value:"fr",label:"Français"},{value:"tr",label:"Türkçe"},{value:"ja",label:"日本語"},{value:"ar",label:"العربية"},{value:"it",label:"Italiano"},{value:"pl",label:"Polski"}]}},{key:"changeLanguage",value:(a=ns(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t!==this.props.language){e.next=2;break}return e.abrupt("return");case 2:return Object(zt.a)("change-language"),e.next=5,this.ensureLanguageResources(t);case 5:Kl.a.changeLanguage(t),this.props.dispatch({type:At.r,data:t});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.props.t,n=this.getlanguageOptions();return i.a.createElement(i.a.Fragment,null,i.a.createElement(vo.f,{spaceAbove:!0},t("sidebar:Language")),i.a.createElement("div",{style:{paddingBottom:100,width:I.l,fontSize:14}},i.a.createElement(vr.b,{name:"selectLanguage",id:"selectLanguage",value:n.filter((function(t){return t.value===e.props.language})),options:n,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){e.changeLanguage(t.value)}})))}}])&&os(t.prototype,r),o&&os(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(i.a.Component))||Zl,ps=Object(d.a)()(us),fs=n(807),ds=n(342),hs=n.n(ds),ys=n(146),ms=n.n(ys),bs=n(147),vs=n.n(bs),gs=n(340),ws=n.n(gs),Ms=n(339),js=n.n(Ms),Ss=n(341),Ls=n.n(Ss),Os=n(237),xs=n.n(Os),Cs=n(66),Ts=n.n(Cs);function Es(e){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _s(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==Es(e))if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=_s(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var Ds=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=_s(e))&&(r&&(r+=" "),r+=t);return r};function Is(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,l=e.nextScrollToIndex,s=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),s>=0&&s===l&&c())}var Ns=n(148),zs=n.n(Ns),Ps=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,o=t.estimatedCellSize;ms()(this,e),Ts()(this,"_cellSizeAndPositionData",{}),Ts()(this,"_lastMeasuredIndex",-1),Ts()(this,"_lastBatchedIndex",-1),Ts()(this,"_cellCount",void 0),Ts()(this,"_cellSizeGetter",void 0),Ts()(this,"_estimatedCellSize",void 0),this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}return vs()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index ".concat(e," is outside of range 0..").concat(this._cellCount));if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell ".concat(r," of value ").concat(o));null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a,l=this.getSizeAndPositionOfCell(i),s=l.offset,c=s-r+l.size;switch(n){case"start":a=s;break;case"end":a=c;break;case"center":a=s-(r-l.size)/2;break;default:a=Math.max(c,Math.min(s,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,a))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:o>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset ".concat(e," specified"));e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),As=function(){return"undefined"!=typeof window&&window.chrome?16777100:15e5},ks=function(){function e(t){var n=t.maxScrollSize,r=void 0===n?As():n,o=zs()(t,["maxScrollSize"]);ms()(this,e),Ts()(this,"_cellSizeAndPositionManager",void 0),Ts()(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new Ps(o),this._maxScrollSize=r}return vs()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}}]),e}();function Rs(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,o=n.indices,i=Object.keys(o),a=!e||i.every((function(e){var t=o[e];return Array.isArray(t)?t.length>0:t>=0})),l=i.length!==Object.keys(t).length||i.some((function(e){var n=t[e],r=o[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=o,a&&l&&r(o)}}function Bs(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,l=e.previousSize,s=e.scrollOffset,c=e.scrollToAlignment,u=e.scrollToIndex,p=e.size,f=e.sizeJustIncreasedFromZero,d=e.updateScrollIndexCallback,h=n.getCellCount(),y=u>=0&&u<h;y&&(p!==l||f||!o||"number"==typeof t&&t!==o||c!==i||u!==a)?d(u):!y&&h>0&&(p<l||h<r)&&s>n.getTotalSize()-p&&d(h-1)}var Fs,Ys,Hs=!("undefined"==typeof window||!window.document||!window.document.createElement);function Ws(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function Gs(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function Us(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ws.__suppressDeprecationWarning=!0,Gs.__suppressDeprecationWarning=!0,Us.__suppressDeprecationWarning=!0;var Vs,Qs,qs=(Ys="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||Ys.webkitRequestAnimationFrame||Ys.mozRequestAnimationFrame||Ys.oRequestAnimationFrame||Ys.msRequestAnimationFrame||function(e){return Ys.setTimeout(e,1e3/60)},Xs=Ys.cancelAnimationFrame||Ys.webkitCancelAnimationFrame||Ys.mozCancelAnimationFrame||Ys.oCancelAnimationFrame||Ys.msCancelAnimationFrame||function(e){Ys.clearTimeout(e)},Zs=qs,Js=Xs,Ks=function(e){return Js(e.id)};function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(n,!0).forEach((function(t){Ts()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tc="observed",nc="requested",rc=(Qs=Vs=function(e){function t(e){var n;ms()(this,t),n=ws()(this,js()(t).call(this,e)),Ts()(Ls()(n),"_onGridRenderedMemoizer",Rs()),Ts()(Ls()(n),"_onScrollMemoizer",Rs(!1)),Ts()(Ls()(n),"_deferredInvalidateColumnIndex",null),Ts()(Ls()(n),"_deferredInvalidateRowIndex",null),Ts()(Ls()(n),"_recomputeScrollLeftFlag",!1),Ts()(Ls()(n),"_recomputeScrollTopFlag",!1),Ts()(Ls()(n),"_horizontalScrollBarSize",0),Ts()(Ls()(n),"_verticalScrollBarSize",0),Ts()(Ls()(n),"_scrollbarPresenceChanged",!1),Ts()(Ls()(n),"_scrollingContainer",void 0),Ts()(Ls()(n),"_childrenToDisplay",void 0),Ts()(Ls()(n),"_columnStartIndex",void 0),Ts()(Ls()(n),"_columnStopIndex",void 0),Ts()(Ls()(n),"_rowStartIndex",void 0),Ts()(Ls()(n),"_rowStopIndex",void 0),Ts()(Ls()(n),"_renderedColumnStartIndex",0),Ts()(Ls()(n),"_renderedColumnStopIndex",0),Ts()(Ls()(n),"_renderedRowStartIndex",0),Ts()(Ls()(n),"_renderedRowStopIndex",0),Ts()(Ls()(n),"_initialScrollTop",void 0),Ts()(Ls()(n),"_initialScrollLeft",void 0),Ts()(Ls()(n),"_disablePointerEventsTimeoutId",void 0),Ts()(Ls()(n),"_styleCache",{}),Ts()(Ls()(n),"_cellCache",{}),Ts()(Ls()(n),"_debounceScrollEndedCallback",(function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})})),Ts()(Ls()(n),"_invokeOnGridRenderedHelper",(function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})})),Ts()(Ls()(n),"_setScrollingContainerRef",(function(e){n._scrollingContainer=e})),Ts()(Ls()(n),"_onScroll",(function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)}));var r=new ks({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new ks({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return xs()(t,e),vs()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,l=ec({},this.props,{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(l),scrollTop:this._getCalculatedScrollTop(l)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,l=i.autoWidth,s=i.height,c=i.width,u=this.state.instanceProps,p=u.scrollbarSize,f=u.rowSizeAndPositionManager.getTotalSize(),d=u.columnSizeAndPositionManager.getTotalSize(),h=Math.min(Math.max(0,d-c+p),n),y=Math.min(Math.max(0,f-s+p),o);if(this.state.scrollLeft!==h||this.state.scrollTop!==y){var m={isScrolling:!0,scrollDirectionHorizontal:h!==this.state.scrollLeft?h>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:y!==this.state.scrollTop?y>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:tc};a||(m.scrollTop=y),l||(m.scrollLeft=h),m.needToResetStyleCache=!1,this.setState(m)}this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:y,totalColumnsWidth:d,totalRowsHeight:f})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,l=i.scrollToRow,s=this.state.instanceProps;s.columnSizeAndPositionManager.resetCell(n),s.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?n<=a:n>=a),this._recomputeScrollTopFlag=l>=0&&(1===this.state.scrollDirectionVertical?o<=l:o>=l),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(ec({},o,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(ec({},o,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,o=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,l=e.scrollToRow,s=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(e){var t=ec({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var p=r>0&&s>0;i>=0&&p&&this._updateScrollLeftForScrollToColumn(),l>=0&&p&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,l=r.height,s=r.rowCount,c=r.scrollToAlignment,u=r.scrollToColumn,p=r.scrollToRow,f=r.width,d=this.state,h=d.scrollLeft,y=d.scrollPositionChangeReason,m=d.scrollTop,b=d.instanceProps;this._handleInvalidatedGridSize();var v=a>0&&0===e.columnCount||s>0&&0===e.rowCount;y===nc&&(!i&&h>=0&&(h!==this._scrollingContainer.scrollLeft||v)&&(this._scrollingContainer.scrollLeft=h),!o&&m>=0&&(m!==this._scrollingContainer.scrollTop||v)&&(this._scrollingContainer.scrollTop=m));var g=(0===e.width||0===e.height)&&l>0&&f>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Bs({cellSizeAndPositionManager:b.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:h,scrollToAlignment:c,scrollToIndex:u,size:f,sizeJustIncreasedFromZero:g,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Bs({cellSizeAndPositionManager:b.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:m,scrollToAlignment:c,scrollToIndex:p,size:l,sizeJustIncreasedFromZero:g,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),h!==t.scrollLeft||m!==t.scrollTop){var w=b.rowSizeAndPositionManager.getTotalSize(),M=b.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:h,scrollTop:m,totalColumnsWidth:M,totalRowsHeight:w})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Ks(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,r=e.autoWidth,i=e.className,a=e.containerProps,l=e.containerRole,s=e.containerStyle,c=e.height,u=e.id,p=e.noContentRenderer,f=e.role,d=e.style,h=e.tabIndex,y=e.width,m=this.state,b=m.instanceProps,v=m.needToResetStyleCache,g=this._isScrolling(),w={boxSizing:"border-box",direction:"ltr",height:n?"auto":c,position:"relative",width:r?"auto":y,WebkitOverflowScrolling:"touch",willChange:"transform"};v&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var M=b.columnSizeAndPositionManager.getTotalSize(),j=b.rowSizeAndPositionManager.getTotalSize(),S=j>c?b.scrollbarSize:0,L=M>y?b.scrollbarSize:0;L===this._horizontalScrollBarSize&&S===this._verticalScrollBarSize||(this._horizontalScrollBarSize=L,this._verticalScrollBarSize=S,this._scrollbarPresenceChanged=!0),w.overflowX=M+S<=y?"hidden":"auto",w.overflowY=j+L<=c?"hidden":"auto";var O=this._childrenToDisplay,x=0===O.length&&c>0&&y>0;return o.createElement("div",hs()({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Ds("ReactVirtualized__Grid",i),id:u,onScroll:this._onScroll,role:f,style:ec({},w,{},d),tabIndex:h}),O.length>0&&o.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:l,style:ec({width:t?"auto":M,height:j,maxWidth:M,maxHeight:j,overflow:"hidden",pointerEvents:g?"none":"",position:"relative"},s)},O),x&&p())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,l=e.overscanColumnCount,s=e.overscanIndicesGetter,c=e.overscanRowCount,u=e.rowCount,p=e.width,f=e.isScrollingOptOut,d=t.scrollDirectionHorizontal,h=t.scrollDirectionVertical,y=t.instanceProps,m=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,b=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,v=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&p>0){var g=y.columnSizeAndPositionManager.getVisibleCellRange({containerSize:p,offset:b}),w=y.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:m}),M=y.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:p,offset:b}),j=y.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:m});this._renderedColumnStartIndex=g.start,this._renderedColumnStopIndex=g.stop,this._renderedRowStartIndex=w.start,this._renderedRowStopIndex=w.stop;var S=s({direction:"horizontal",cellCount:o,overscanCellsCount:l,scrollDirection:d,startIndex:"number"==typeof g.start?g.start:0,stopIndex:"number"==typeof g.stop?g.stop:-1}),L=s({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:h,startIndex:"number"==typeof w.start?w.start:0,stopIndex:"number"==typeof w.stop?w.stop:-1}),O=S.overscanStartIndex,x=S.overscanStopIndex,C=L.overscanStartIndex,T=L.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var E=C;E<=T;E++)if(!i.has(E,0)){O=0,x=o-1;break}if(!i.hasFixedWidth())for(var _=O;_<=x;_++)if(!i.has(0,_)){C=0,T=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:y.columnSizeAndPositionManager,columnStartIndex:O,columnStopIndex:x,deferredMeasurementCache:i,horizontalOffsetAdjustment:M,isScrolling:v,isScrollingOptOut:f,parent:this,rowSizeAndPositionManager:y.rowSizeAndPositionManager,rowStartIndex:C,rowStopIndex:T,scrollLeft:b,scrollTop:m,styleCache:this._styleCache,verticalOffsetAdjustment:j,visibleColumnIndices:g,visibleRowIndices:w}),this._columnStartIndex=O,this._columnStopIndex=x,this._rowStartIndex=C,this._rowStopIndex=T}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Ks(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=function(e,t){var n;Promise.resolve().then((function(){n=Date.now()}));var r={id:Zs((function o(){Date.now()-n>=t?e.call():r.id=Zs(o)}))};return r}(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,l=a.height;(0,a.onScroll)({clientHeight:l,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop,o=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i="".concat(r,"-").concat(o);this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&Object.assign(r,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o,i,a=n.instanceProps;return r.needToResetStyleCache=!1,e.columnWidth===a.prevColumnWidth&&e.rowHeight===a.prevRowHeight||(r.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==a.prevColumnCount&&0!==a.prevRowCount||(a.prevColumnCount=0,a.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===a.prevIsScrolling&&Object.assign(r,{isScrolling:!1}),Is({cellCount:a.prevColumnCount,cellSize:"number"==typeof a.prevColumnWidth?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),Is({cellCount:a.prevRowCount,cellSize:"number"==typeof a.prevRowHeight?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),a.prevColumnCount=e.columnCount,a.prevColumnWidth=e.columnWidth,a.prevIsScrolling=!0===e.isScrolling,a.prevRowCount=e.rowCount,a.prevRowHeight=e.rowHeight,a.prevScrollToColumn=e.scrollToColumn,a.prevScrollToRow=e.scrollToRow,a.scrollbarSize=e.getScrollbarSize(),void 0===a.scrollbarSize?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,r.instanceProps=a,ec({},r,{},o,{},i)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:nc};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>t.scrollTop?1:-1,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,l=t.scrollLeft,s=t.instanceProps;if(n>0){var c=n-1,u=i<0?c:Math.min(c,i),p=s.rowSizeAndPositionManager.getTotalSize(),f=s.scrollbarSizeMeasured&&p>r?s.scrollbarSize:0;return s.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,o=t._getCalculatedScrollLeft(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,l=t.scrollTop,s=t.instanceProps;if(r>0){var c=r-1,u=i<0?c:Math.min(c,i),p=s.columnSizeAndPositionManager.getTotalSize(),f=s.scrollbarSizeMeasured&&p>a?s.scrollbarSize:0;return s.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-f,currentOffset:l,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,o=t._getCalculatedScrollTop(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):{}}}]),t}(o.PureComponent),Ts()(Vs,"propTypes",null),Qs);Ts()(rc,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,o=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,l=e.horizontalOffsetAdjustment,s=e.isScrolling,c=e.isScrollingOptOut,u=e.parent,p=e.rowSizeAndPositionManager,f=e.rowStartIndex,d=e.rowStopIndex,h=e.styleCache,y=e.verticalOffsetAdjustment,m=e.visibleColumnIndices,b=e.visibleRowIndices,v=[],g=r.areOffsetsAdjusted()||p.areOffsetsAdjusted(),w=!s&&!g,M=f;M<=d;M++)for(var j=p.getSizeAndPositionOfCell(M),S=o;S<=i;S++){var L=r.getSizeAndPositionOfCell(S),O=S>=m.start&&S<=m.stop&&M>=b.start&&M<=b.stop,x="".concat(M,"-").concat(S),C=void 0;w&&h[x]?C=h[x]:a&&!a.has(M,S)?C={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(C={height:j.size,left:L.offset+l,position:"absolute",top:j.offset+y,width:L.size},h[x]=C);var T={columnIndex:S,isScrolling:s,isVisible:O,key:x,parent:u,rowIndex:M,style:C},E=void 0;!c&&!s||l||y?E=n(T):(t[x]||(t[x]=n(T)),E=t[x]),null!=E&&!1!==E&&v.push(E)}return v},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:function(e){if((!Fs&&0!==Fs||e)&&Hs){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Fs=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Fs},noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,a="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Ws,t.componentWillReceiveProps=Gs),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Us;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}}(rc);var oc=rc;var ic,ac,lc=(ac=ic=function(e){function t(){var e,n;ms()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=ws()(this,(e=js()(t)).call.apply(e,[this].concat(o))),Ts()(Ls()(n),"Grid",void 0),Ts()(Ls()(n),"_cellRenderer",(function(e){var t=e.parent,r=e.rowIndex,o=e.style,i=e.isScrolling,a=e.isVisible,l=e.key,s=n.props.rowRenderer,c=Object.getOwnPropertyDescriptor(o,"width");return c&&c.writable&&(o.width="100%"),s({index:r,style:o,isScrolling:i,isVisible:a,key:l,parent:t})})),Ts()(Ls()(n),"_setRef",(function(e){n.Grid=e})),Ts()(Ls()(n),"_onScroll",(function(e){var t=e.clientHeight,r=e.scrollHeight,o=e.scrollTop;(0,n.props.onScroll)({clientHeight:t,scrollHeight:r,scrollTop:o})})),Ts()(Ls()(n),"_onSectionRendered",(function(e){var t=e.rowOverscanStartIndex,r=e.rowOverscanStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;(0,n.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:r,startIndex:o,stopIndex:i})})),n}return xs()(t,e),vs()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,r=e.scrollToIndex,i=e.width,a=Ds("ReactVirtualized__List",t);return o.createElement(oc,hs()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),t}(o.PureComponent),Ts()(ic,"propTypes",null),ac);Ts()(lc,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i+1)}},overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});var sc,cc,uc=n(103),pc=(cc=sc=function(e){function t(){var e,n;ms()(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=ws()(this,(e=js()(t)).call.apply(e,[this].concat(o))),Ts()(Ls()(n),"_child",void 0),Ts()(Ls()(n),"_measure",(function(){var e=n.props,t=e.cache,r=e.columnIndex,o=void 0===r?0:r,i=e.parent,a=e.rowIndex,l=void 0===a?n.props.index||0:a,s=n._getCellMeasurements(),c=s.height,u=s.width;c===t.getHeight(l,o)&&u===t.getWidth(l,o)||(t.set(l,o,u,c),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:l}))})),Ts()(Ls()(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=e,e&&n._maybeMeasureCell()})),n}return xs()(t,e),vs()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child||Object(uc.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var o=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,o=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,r)){var l=this._getCellMeasurements(),s=l.height,c=l.width;t.set(a,r,c,s),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),t}(o.PureComponent),Ts()(sc,"propTypes",null),cc);Ts()(pc,"__internalCellMeasurerFlag",!1);var fc=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ms()(this,e),Ts()(this,"_cellHeightCache",{}),Ts()(this,"_cellWidthCache",{}),Ts()(this,"_columnWidthCache",{}),Ts()(this,"_rowHeightCache",{}),Ts()(this,"_defaultHeight",void 0),Ts()(this,"_defaultWidth",void 0),Ts()(this,"_minHeight",void 0),Ts()(this,"_minWidth",void 0),Ts()(this,"_keyMapper",void 0),Ts()(this,"_hasFixedHeight",void 0),Ts()(this,"_hasFixedWidth",void 0),Ts()(this,"_columnCount",0),Ts()(this,"_rowCount",0),Ts()(this,"columnWidth",(function(e){var n=e.index,r=t._keyMapper(0,n);return void 0!==t._columnWidthCache[r]?t._columnWidthCache[r]:t._defaultWidth})),Ts()(this,"rowHeight",(function(e){var n=e.index,r=t._keyMapper(n,0);return void 0!==t._rowHeightCache[r]?t._rowHeightCache[r]:t._defaultHeight}));var r=n.defaultHeight,o=n.defaultWidth,i=n.fixedHeight,a=n.fixedWidth,l=n.keyMapper,s=n.minHeight,c=n.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===a,this._minHeight=s||0,this._minWidth=c||0,this._keyMapper=l||dc,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:30),this._defaultWidth=Math.max(this._minWidth,"number"==typeof o?o:100)}return vs()(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return void 0!==this._cellWidthCache[n]?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]}},{key:"set",value:function(e,t,n,r){var o=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[o]=r,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var o=this._keyMapper(0,t);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(e,a));var l=this._keyMapper(e,0);this._rowHeightCache[l]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),e}();function dc(e,t){return"".concat(e,"-").concat(t)}var hc,yc=function(e){var t,n=e.children,r=e.maxHeight,a=e.focusedOption,l=Object(o.useRef)(null),s=Object(o.useRef)(null),c=Object(o.useRef)(new fc({fixedWidth:!0,defaultHeight:40}));if(n instanceof Array){var u=n.findIndex((function(e){return Object(Dn.isEqual)(a,e.props.data)}));u>=0&&(t=u)}Object(o.useLayoutEffect)((function(){var e=n instanceof Array?function(e){return e.map((function(e){return e.key}))}(n):n;Object(Dn.isEqual)(s.current,e)||(c.current.clearAll(),l.current.recomputeRowHeights(),s.current=e)}),[n]);var p;return i.a.createElement(lc,{ref:l,height:(p=Object.values(c.current._rowHeightCache).reduce((function(e,t){return e+t}),0),0===p?r:Math.min(r,p)),deferredMeasurementCache:c.current,rowHeight:c.current.rowHeight,rowRenderer:function(e){var t=e.index,r=e.key,o=e.parent,a=e.style;return i.a.createElement(pc,{cache:c.current,columnIndex:0,key:r,parent:o,rowIndex:t},i.a.createElement("div",{style:a},n instanceof Array?n[t]:n))},rowCount:n.length||1,width:I.l,scrollToIndex:t})};function mc(e){return(mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,xc(r.key),r)}}function wc(e,t){return(wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Mc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lc(e);if(t){var o=Lc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return jc(this,n)}}function jc(e,t){if(t&&("object"===mc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sc(e)}function Sc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lc(e){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oc(e,t,n){return(t=xc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xc(e){var t=function(e,t){if("object"!==mc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==mc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===mc(t)?t:String(t)}var Cc=Object(s.b)((function(e){return{activeFilters:e.controls.filters,colorings:e.metadata.colorings,totalStateCounts:e.tree.totalStateCounts,nodes:e.tree.nodes,measurementsFieldsMap:e.measurements.collectionToDisplay.fields,measurementsFiltersMap:e.measurements.collectionToDisplay.filters,measurementsFilters:e.controls.measurementsFilters}}))(hc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wc(e,t)}(a,e);var t,n,r,o=Mc(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Oc(Sc(t=o.call(this,e)),"makeOptions",(function(){var e=[];return Object.keys(t.props.activeFilters).forEach((function(n){var r=t.getFilterTitle(n),o=t.props.activeFilters[n].filter((function(e){return e.active})).map((function(e){return e.value}));Array.from(t.props.totalStateCounts[n].keys()).filter((function(e){return Object(I.C)(e)})).filter((function(e){return!o.includes(e)})).sort().forEach((function(t){e.push({label:"".concat(r," → ").concat(t),value:[n,t]})}))})),I.y in t.props.activeFilters&&Array.from(Object(Ke.b)(t.props.nodes)).sort().forEach((function(t){e.push({label:"genotype ".concat(t),value:[I.y,t]})})),I.M in t.props.activeFilters&&t.props.nodes.filter((function(e){return!e.hasChildren})).forEach((function(t){e.push({label:"sample → ".concat(t.name),value:[I.M,t.name]})})),t.props.measurementsOn&&t.props.measurementsFiltersMap&&t.props.measurementsFieldsMap&&t.props.measurementsFiltersMap.forEach((function(n,r){var o=n.values,i=t.props.measurementsFieldsMap.get(r).title;o.forEach((function(t){e.push({_type:"measurements",label:"(M) ".concat(i," → ").concat(t),value:[r,t]})}))})),e})),Oc(Sc(t),"selectionMade",(function(e){return"measurements"===e._type?t.props.dispatch(Object(D.a)(e.value[0],e.value[1],!0)):t.props.dispatch(Object(_.a)("add",e.value[0],[e.value[1]]))})),Oc(Sc(t),"summariseFilters",(function(){return Reflect.ownKeys(t.props.activeFilters).filter((function(e){return t.props.activeFilters[e].length>0})).map((function(e){var n=t.props.activeFilters[e].filter((function(e){return e.active})).length;return{filterName:e,displayName:_c(n,t.getFilterTitle(e)),anyFiltersActive:function(){return t.props.activeFilters[e].filter((function(e){return e.active})).length>0},remove:function(){t.props.dispatch(Object(_.a)("set",e,[]))},activate:function(){t.props.dispatch(Object(_.a)("add",e,t.props.activeFilters[e].map((function(e){return e.value}))))},inactivate:function(){t.props.dispatch(Object(_.a)("inactivate",e,t.props.activeFilters[e].map((function(e){return e.value}))))}}}))})),Oc(Sc(t),"summariseMeasurementsFilters",(function(){return Object.entries(t.props.measurementsFilters).map((function(e){var n=bc(e,2),r=n[0],o=n[1],i=Array.from(o.values()).reduce((function(e,t){return t.active?e+1:e}),0);return{field:r,activeFiltersCount:i,badgeTitle:"".concat(i," x ").concat(t.props.measurementsFieldsMap.get(r).title)}}))})),t}return t=a,(n=[{key:"getStyles",value:function(){return{base:{width:I.l,marginBottom:0,fontSize:14}}}},{key:"getFilterTitle",value:function(e){return this.props.colorings&&this.props.colorings[e]&&this.props.colorings[e].title||e}},{key:"render",value:function(){var e=this,t=this.makeOptions(),n=Object(Dn.debounce)((function(e,n){return n(t)}),200),r=this.getStyles(),o=this.summariseFilters(),a=this.summariseMeasurementsFilters(),l=String(Object.keys(this.props.activeFilters).length);return i.a.createElement("div",{style:r.base,key:l},i.a.createElement(fs.a,{name:"filterQueryBox",placeholder:"Type filter query here...",value:null,defaultOptions:!0,loadOptions:n,filterOption:function(e,t){return t.toLowerCase().split(" ").every((function(t){return e.label.toLowerCase().includes(t)}))},isClearable:!1,isSearchable:!0,isMulti:!1,components:{DropdownIndicator:null,MenuList:yc},onChange:this.selectionMade,styles:vr.a}),o.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(vo.f,{spaceAbove:!0},"Currently selected filter categories:"),o.map((function(e){return i.a.createElement("div",{style:{display:"inline-block",margin:"2px"},key:e.displayName},i.a.createElement(N.a,{active:e.anyFiltersActive(),canMakeInactive:!0,id:e.displayName,remove:e.remove,activate:e.activate,inactivate:e.inactivate,onHoverMessage:"Data is currently filtered by ".concat(e.displayName)},e.displayName))}))):null,a.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(vo.f,{spaceAbove:!0},"Currently selected measurements filters:"),a.map((function(t){var n=t.field,r=t.activeFiltersCount,o=t.badgeTitle;return i.a.createElement("div",{style:{display:"inline-block",margin:"2px"},key:o},i.a.createElement(N.a,{active:r>0,canMakeInactive:!0,id:o,remove:function(){return e.props.dispatch(Object(D.d)(n))},activate:function(){return e.props.dispatch(Object(D.f)(n,!0))},inactivate:function(){return e.props.dispatch(Object(D.f)(n,!1))},onHoverMessage:"Measurements are currently filtered by ".concat(o)},o))}))):null)}}])&&gc(t.prototype,n),r&&gc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||hc,Tc=i.a.createElement(i.a.Fragment,null,"Use this box to filter the displayed data based upon filtering criteria.\n    For instance, start typing a country's name to filter the data accordingly.",i.a.createElement("br",null),"Data is filtered by forming a union of selected values within each category, and then taking the intersection between categories (if more than one category is selected).",i.a.createElement("br",null),"Scroll to the bottom of the main page (under the data visualisation) to see an expanded display of filters and available values.",i.a.createElement("br",null),'Filter options prefixed with "(M)" are filters specific to the Measurements panel. They will have no effect on the phylogeny tree or other panels.'),Ec=Cc;function _c(e,t){return t===I.M?"".concat(e," x samples"):t===I.y?"".concat(e," x genotypes"):"".concat(e," x  ").concat(t)}var Dc=i.a.createElement(i.a.Fragment,null,"Change various options relating to how the tree is displayed. The exact options available depend on the dataset and specific analysis performed.",i.a.createElement("br",null),"If ",i.a.createElement("em",null,"Branch Length")," is available, you can choose to display the tree branches in terms of (nucleotide) divergence or (inferred) time. It is often helpful to toggle on ",i.a.createElement("em",null,"confidence intervals")," to gauge the uncertainty in the reconstruction of internal node dates."),Ic=i.a.createElement(i.a.Fragment,null,"Change various options relating to how the map is displayed.",i.a.createElement("br",null),"The ",i.a.createElement("em",null,"geographic resolution")," chooses the metadata values which define where samples are placed on the map. This can be the same as the selected ",i.a.createElement("em",null,"color-by")," but is often not!"),Nc=i.a.createElement(i.a.Fragment,null,"Change various options relating to how the animation proceeds."),zc=i.a.createElement(i.a.Fragment,null,"Control which panels are being displayed and whether to show the tree and the map side-by-side (",i.a.createElement("em",null,"grid"),") or expanded (",i.a.createElement("em",null,"full"),").",i.a.createElement("br",null),"Note that what options are available here are dataset specific!"),Pc=i.a.createElement(i.a.Fragment,null,i.a.createElement("em",null,"Normalize frequencies")," controls whether the vertical axis represents the entire dataset or only the samples currently visible (e.g. due to filtering). This option is not available when data is limited to prevent numerical issues."),Ac=i.a.createElement(i.a.Fragment,null,"Change collection of measurements and various display options for the collection."),kc=i.a.createElement(i.a.Fragment,null,"This functionality is experimental and should be treated with caution!",i.a.createElement("br",null),"Exploding a tree by trait X means that for each branch where the trait changes value, we will prune off the branch and create a separate (sub)tree. It works best when the trait doesn't change value too frequently.");function Rc(e){return function(e){if(Array.isArray(e))return Bc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Bc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Fc=function(){var e=Object(s.c)(),t=Object(s.d)((function(e){return e.measurements.collectionToDisplay})),n=Object(s.d)((function(e){return e.measurements.collections.map((function(e){return{value:e.key,label:e.title||e.key}}))}),Dn.isEqual),r=Object(s.d)((function(e){return e.controls.measurementsGroupBy})),o=Object(s.d)((function(e){return e.controls.measurementsDisplay})),a=Object(s.d)((function(e){return e.controls.measurementsShowOverallMean})),l=Object(s.d)((function(e){return e.controls.measurementsShowThreshold})),c=[];return t.groupings&&(c=Rc(t.groupings.keys()).map((function(e){return{value:e,label:t.fields.get(e).title}}))),i.a.createElement("div",{id:"measurementsControls"},i.a.createElement(vo.f,null,"Collections"),i.a.createElement("div",{style:{marginBottom:10,width:I.l,fontSize:14}},i.a.createElement(vr.b,{name:"measurementsCollections",id:"measurementsCollections",value:n.filter((function(e){return e.value===t.key})),options:n,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){e(Object(D.b)(t.value))}})),i.a.createElement(vo.f,null,"Group By"),i.a.createElement("div",{style:{marginBottom:10,width:I.l,fontSize:14}},i.a.createElement(vr.b,{name:"measurementsGroupings",id:"measurementsGroupings",value:c.filter((function(e){return e.value===r})),options:c,isClearable:!1,isSearchable:!1,isMulti:!1,onChange:function(t){e({type:At.v,data:t.value})}})),i.a.createElement(vo.f,null,"Measurements Display"),i.a.createElement(vo.d,{selected:"mean"===o,onClick:function(){e({type:At.u,data:"mean"})}},"Mean ± SD"),i.a.createElement(vo.d,{selected:"raw"===o,onClick:function(){e({type:At.u,data:"raw"})}},"Raw"),i.a.createElement(Uo,{style:{padding:"10px 0px"},display:!0,on:a,label:"Show overall mean ± SD",callback:function(){return e({type:At.S,data:!a})}}),i.a.createElement(Uo,{display:"number"==typeof t.threshold,on:l,label:"Show measurement threshold",callback:function(){return e({type:At.T,data:!l})}}))};var Yc=function(e){var t=e.mapOn,n=e.frequenciesOn,r=e.measurementsOn,o=e.mobileDisplay,a=Object(mr.a)().t;return i.a.createElement(vo.a,null,i.a.createElement($i,null),i.a.createElement(Hi,{title:a("sidebar:Date Range"),tooltip:yo,mobile:o}),i.a.createElement(mo,null),i.a.createElement(To,null),i.a.createElement(Hi,{title:a("sidebar:Color By"),tooltip:Dr,mobile:o}),i.a.createElement(Ir,null),i.a.createElement(Hi,{title:a("sidebar:Filter Data"),tooltip:Tc,mobile:o}),i.a.createElement(Ec,{measurementsOn:r}),i.a.createElement(Hi,{title:a("sidebar:Tree Options"),tooltip:Dc,mobile:o}),i.a.createElement(Ti,null),i.a.createElement(Oa,null),i.a.createElement($o,null),i.a.createElement(ha.b,null),i.a.createElement(da,null),i.a.createElement(Fo,{tooltip:kc,mobile:o}),i.a.createElement(Jl,null),r?i.a.createElement("span",{style:{marginTop:"10px"}},i.a.createElement(Hi,{title:a("sidebar:Measurements Options"),tooltip:Ac,mobile:o}),i.a.createElement(Fc,null)):null,t?i.a.createElement("span",{style:{marginTop:"10px"}},i.a.createElement(Hi,{title:a("sidebar:Map Options"),tooltip:Ic,mobile:o}),i.a.createElement(Za,null),i.a.createElement(ll,null)):null,n?i.a.createElement("span",{style:{marginTop:"10px"}},i.a.createElement(Hi,{title:a("sidebar:Frequency Options"),tooltip:Pc,mobile:o}),i.a.createElement(gl,null)):null,i.a.createElement("span",{style:{marginTop:"10px"}},i.a.createElement(Hi,{title:a("sidebar:Animation Options"),tooltip:Nc,mobile:o}),i.a.createElement(_l,null)),i.a.createElement("span",{style:{paddingTop:"10px"}}),i.a.createElement(Hi,{title:a("sidebar:Panel Options"),tooltip:zc,mobile:o}),i.a.createElement(Ba,null),i.a.createElement(Yl,null),i.a.createElement(ps,null))},Hc=n(836);function Wc(e){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gc(Object(n),!0).forEach((function(t){Vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Wc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Wc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Wc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qc=c.c.div.withConfig({displayName:"styles__PanelsContainer",componentId:"sc-18umnzu-0"})(["position:absolute;top:0;bottom:0;right:0;transition:left 0.3s ease-out;background-color:#fff;height:",";width:",";overflow-x:hidden;overflow-y:auto;left:",";"],(function(e){return e.height+"px"}),(function(e){return e.width+"px"}),(function(e){return e.left+"px"})),qc=c.c.div.withConfig({displayName:"styles__SidebarContainer",componentId:"sc-18umnzu-1"})(["position:absolute;top:0;bottom:0;right:0;transition:left 0.3s ease-out;left:",";background-color:",";height:",";width:",";max-width:",";overflow-y:auto;overflow-x:hidden;box-shadow:-3px 0px 3px -3px "," inset;font-family:",";"],(function(e){return e.left+"px"}),(function(e){return e.theme.background}),(function(e){return e.height+"px"}),(function(e){return e.width+"px"}),(function(e){return e.width+"px"}),(function(e){return e.theme.sidebarBoxShadow}),(function(e){return e.theme["font-family"]})),Xc={};Object(Hc.b)("sidebarTheme")&&(Xc=Object(Hc.a)("sidebarTheme"));var Zc,Jc=Uc(Uc({},{background:"#30353F",color:"#D3D3D3","font-family":"Lato, Helvetica Neue, Helvetica, sans-serif",sidebarBoxShadow:"rgba(255, 255, 255, 1)",selectedColor:"#5DA8A3",unselectedColor:"#BBB",unselectedBackground:"#888"}),Xc),Kc=function(e){var t=e.sidebarOpen,n=e.width,r=e.height,o=e.displayNarrative,a=e.panelsToDisplay,l=e.narrativeTitle,s=e.mobileDisplay,u=e.navBarHandler;return i.a.createElement(c.a,{theme:Jc},i.a.createElement(qc,{left:t?0:-1*n,width:n,height:r},i.a.createElement(yr.a,{sidebar:!0,mobileDisplay:s,toggleHandler:u,narrativeTitle:!!o&&l,width:n}),o?i.a.createElement(pr,{height:r-I.H,width:n}):i.a.createElement(Yc,{mobileDisplay:s,mapOn:a.includes("map"),frequenciesOn:a.includes("frequencies"),measurementsOn:a.includes("measurements")})))},$c=n(881),eu=n(905),tu=Object(o.lazy)((function(){return n.e(3).then(n.bind(null,1143))})),nu=c.c.div.withConfig({displayName:"MainDisplayMarkdown__Container",componentId:"sc-5tw4mo-0"})(["margin:",";font-family:",";font-weight:300;color:",";line-height:1.4;width:","px;font-size:14px;line-height:1.4;@media (max-width:1080px){line-height:1.2;}h1{font-weight:700;font-size:2em;margin:0.3em 0;}h2{font-weight:600;font-size:1.8em;margin:0.3em 0;}h3{font-weight:500;font-size:1.6em;margin:0.3em 0;}h4{font-weight:500;font-size:1.4em;margin:0.2em 0;}h5{font-weight:500;font-size:1.2em;margin:0.2em 0;}h6{font-weight:500;font-size:1.2em;margin:0.2em 0;}pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;background-color:#f6f8fa;border-radius:3px;}.line{margin-top:20px;margin-bottom:20px;border-bottom:1px solid #CCC;}.imageContainer{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;}img{margin-left:30px;margin-right:30px;margin-top:2px;margin-bottom:2px;max-width:100%;}table,th,td{border:1px solid;}td,th{padding:3px;}"],(function(e){return e.mobile?"10px 5% 5% 5%":"50px 30px 30px 30px"}),p.b,(function(e){return e.theme.unselectedColor}),(function(e){return e.width-30})),ru=Object(s.b)((function(e){return{narrativeBlock:e.narrative.blocks[e.narrative.blockIdx]}}))((function(e){var t=e.narrativeBlock,n=e.width,r=e.mobile;return i.a.createElement(nu,{width:n,mobile:r},i.a.createElement(o.Suspense,null,i.a.createElement(tu,{dir:"auto",mdstring:t.mainDisplayMarkdown})))}));function ou(e){return(ou="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(n),!0).forEach((function(t){du(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hu(r.key),r)}}function su(e,t){return(su=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function cu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=fu(e);if(t){var o=fu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uu(this,n)}}function uu(e,t){if(t&&("object"===ou(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return pu(e)}function pu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function du(e,t,n){return(t=hu(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hu(e){var t=function(e,t){if("object"!==ou(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ou(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ou(t)?t:String(t)}var yu,mu,bu=Object(s.b)((function(e){return{loaded:e.narrative.loaded,blocks:e.narrative.blocks,currentInFocusBlockIdx:e.narrative.blockIdx,panelsToDisplay:e.controls.panelsToDisplay,treeName:e.tree.name}}))(Zc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&su(e,t)}(a,e);var t,n,r,o=cu(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),du(pu(t=o.call(this,e)),"NextButton",(function(e){return i.a.createElement(En,{height:t.state.bannerHeight,onClick:t.goToNextPage},e.children)})),du(pu(t),"PreviousButton",(function(e){return i.a.createElement(Tn,{height:t.state.bannerHeight,onClick:t.goToPreviousPage},e.children)})),t.state={bannerHeight:50,contentHeight:window.innerHeight-100},t.goToNextPage=function(){t.props.currentInFocusBlockIdx+1!==t.props.blocks.length&&t._goToPage(t.props.currentInFocusBlockIdx+1)},t.goToPreviousPage=function(){0!==t.props.currentInFocusBlockIdx&&t._goToPage(t.props.currentInFocusBlockIdx-1)},t._goToPage=function(e){t.props.dispatch(Object(er.a)(fr(t.props.blocks,t.props.currentInFocusBlockIdx,e))),document.getElementById("progress-bar").scrollIntoView()},t}return t=a,(n=[{key:"pageNarrativeContent",value:function(){if(this.props.blocks[this.props.currentInFocusBlockIdx].mainDisplayMarkdown)return null;var e=this.props.blocks[this.props.currentInFocusBlockIdx].__html;return 0===this.props.currentInFocusBlockIdx&&(e='\n  <p class="explanation">\n  Narratives are interleaved sections of text and associated nextstrain visualisations of the genomic data.\n  Click the coloured arrows at the top & bottom of each page to move through this narrative.\n  Within each page, you can scroll through the text to see visualisations of the genomic data.\n  </p>\n'+e),i.a.createElement("div",{id:"NarrativeBlock_".concat(this.props.currentInFocusBlockIdx),style:{padding:"10px 20px",height:"inherit",overflow:"hidden"},dangerouslySetInnerHTML:{__html:e}})}},{key:"renderMainMarkdown",value:function(){return this.props.panelsToDisplay.includes("MainDisplayMarkdown")?i.a.createElement(ru,{width:window.innerWidth,mobile:!0}):null}},{key:"renderVizCards",value:function(e){if(this.props.blocks[this.props.currentInFocusBlockIdx].mainDisplayMarkdown)return null;if(0===this.props.currentInFocusBlockIdx)return null;var t=window.innerWidth-50;return i.a.createElement(i.a.Fragment,null,this.props.panelsToDisplay.includes("tree")?i.a.createElement(de,{width:t,height:e,key:this.props.treeName}):null,this.props.panelsToDisplay.includes("map")?i.a.createElement(_t,{width:t,height:e,justGotNewDatasetRenderNewMap:!1,key:this.props.treeName+"_map"}):null)}},{key:"renderEndOfNarrative",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(this.PreviousButton,null,"Previous"),i.a.createElement(_n,{height:this.state.contentHeight+this.state.bannerHeight},this.renderProgress(),i.a.createElement(Cn,null,i.a.createElement("h1",null,"End of Narrative"),i.a.createElement("a",{style:au({},Sn),onClick:function(){return e._goToPage(0)}},"Jump to the beginning"),i.a.createElement("br",null),i.a.createElement("a",{style:au({},Sn),onClick:function(){return e.props.dispatch({type:At.V,narrativeOn:!1})}},"Leave the narrative & explore the data yourself"))))}},{key:"renderStartOfNarrative",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(_n,{height:this.state.contentHeight+this.state.bannerHeight},this.renderProgress(),this.pageNarrativeContent(),this.renderVizCards(this.state.contentHeight),this.renderMainMarkdown()),i.a.createElement(this.NextButton,null,"Next"))}},{key:"renderMiddleOfNarrative",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(this.PreviousButton,{"aria-labelledby":"nav1"},"Previous"),i.a.createElement(_n,{height:this.state.contentHeight},this.renderProgress(),this.pageNarrativeContent(),this.renderVizCards(this.state.contentHeight),this.renderMainMarkdown()),i.a.createElement(this.NextButton,{"aria-labelledby":"nav2"},"Next"))}},{key:"renderProgress",value:function(){var e=this;return i.a.createElement(Ln,{id:"progress-bar",style:{height:"".concat(25,"px")}},this.props.blocks.map((function(t,n){var r=e.props.currentInFocusBlockIdx===n?"14px":"6px";return i.a.createElement(On,{key:n,style:{width:r,height:r},onClick:function(){return e._goToPage(n)}})})))}},{key:"render",value:function(){return 0===this.props.currentInFocusBlockIdx?this.renderStartOfNarrative():this.props.currentInFocusBlockIdx!==this.props.blocks.length-1?this.renderMiddleOfNarrative():this.renderEndOfNarrative()}}])&&lu(t.prototype,n),r&&lu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.a.Component))||Zc;function vu(e){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ou(r.key),r)}}function wu(e,t){return(wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Mu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lu(e);if(t){var o=Lu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ju(this,n)}}function ju(e,t){if(t&&("object"===vu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Su(e)}function Su(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ou(e){var t=function(e,t){if("object"!==vu(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===vu(t)?t:String(t)}var xu=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,1175))})),Cu=Object(o.lazy)((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,1178))})),Tu=Object(o.lazy)((function(){return n.e(16).then(n.bind(null,1179))})),Eu=Object(s.b)((function(e){return{panelsToDisplay:e.controls.panelsToDisplay,panelLayout:e.controls.panelLayout,displayNarrative:e.narrative.display,narrativeIsLoaded:e.narrative.loaded,narrativeTitle:e.narrative.title,browserDimensions:e.browserDimensions.browserDimensions,frequenciesLoaded:e.frequencies.loaded,metadataLoaded:e.metadata.loaded,treeLoaded:e.tree.loaded,sidebarOpen:e.controls.sidebarOpen,showOnlyPanels:e.controls.showOnlyPanels,treeName:e.tree.name,secondTreeName:e.controls.showTreeToo}}))((function(e,t,n){(t=Ou(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wu(e,t)}(l,e);var t,n,r,a=Mu(l);function l(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),t=a.call(this,e);var n=window.matchMedia("(min-width: ".concat(I.j,"px)"));return n.addListener((function(){return t.setState({mobileDisplay:!t.state.mql.matches})})),t.state={mql:n,mobileDisplay:!n.matches,showSpinner:!(t.props.metadataLoaded&&t.props.treeLoaded)},Object(zt.b)(),t.toggleSidebar=t.toggleSidebar.bind(Su(t)),t.eventListenerForFilesDropped=function(e){return e.preventDefault(),t.props.dispatch(rn(e.dataTransfer.files))},t.eventListenerForFilesDragged=function(e){e.preventDefault()},t}return t=l,(n=[{key:"componentWillReceiveProps",value:function(e){this.state.showSpinner&&e.metadataLoaded&&e.treeLoaded&&this.setState({showSpinner:!1})}},{key:"componentDidMount",value:function(){document.addEventListener("dragover",this.eventListenerForFilesDragged,!1),document.addEventListener("drop",this.eventListenerForFilesDropped,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("dragover",this.eventListenerForFilesDragged),document.removeEventListener("drop",this.eventListenerForFilesDropped)}},{key:"toggleSidebar",value:function(){this.props.dispatch({type:At.Y,value:!this.props.sidebarOpen})}},{key:"inGrid",value:function(){return"grid"===this.props.panelLayout}},{key:"shouldShowMeasurementsLegend",value:function(){return!this.props.panelsToDisplay.includes("tree")||!this.inGrid()}},{key:"shouldMapBeInGrid",value:function(){var e=Object(on.b)(this.props.panelsToDisplay)%2==0;return this.inGrid()&&e}},{key:"shouldShowMapLegend",value:function(){return!this.shouldMapBeInGrid()}},{key:"render",value:function(){var e=this;if(this.state.showSpinner)return i.a.createElement(eu.b,null);if(this.state.mobileDisplay&&this.props.displayNarrative)return i.a.createElement(i.a.Fragment,null,i.a.createElement(dn,null),i.a.createElement(c.a,{theme:Jc},i.a.createElement(bu,null)));var t,n,r=Object($c.b)(this.props.browserDimensions,this.props.displayNarrative,this.props.sidebarOpen,this.state.mobileDisplay),a=r.availableWidth,l=r.availableHeight,s=r.sidebarWidth,u=r.overlayStyles,d=function(){e.props.dispatch({type:At.Y,value:!1})},h=Object($c.a)(this.props.panelsToDisplay,this.props.displayNarrative,a,l),y=h.full,m=h.grid,b=h.chart,v="".concat(this.props.treeName).concat(this.props.secondTreeName?":".concat(this.props.secondTreeName):"");return i.a.createElement("span",null,i.a.createElement(dn,null),i.a.createElement(yt.a,{showNothing:!0},i.a.createElement(c.a,{theme:Jc},i.a.createElement(Nt.a,null))),i.a.createElement(f,{sidebarOpen:this.props.sidebarOpen,mobileDisplay:this.state.mobileDisplay,handler:this.toggleSidebar}),i.a.createElement(Kc,{sidebarOpen:this.props.sidebarOpen,width:s,height:l,displayNarrative:this.props.displayNarrative,panelsToDisplay:this.props.panelsToDisplay,narrativeTitle:this.props.narrativeTitle,mobileDisplay:this.state.mobileDisplay,navBarHandler:this.toggleSidebar}),i.a.createElement(Qc,{width:a,height:l,left:this.props.sidebarOpen?s:0},this.props.narrativeIsLoaded&&!this.props.panelsToDisplay.includes("MainDisplayMarkdown")?(t=this.props.dispatch,n=this.props.displayNarrative,i.a.createElement("button",{style:bn(bn({},p.n),{},{fontSize:14,backgroundColor:"inherit",zIndex:100,position:"fixed",right:5,top:-1,cursor:"pointer",color:p.a}),onClick:function(){return t({type:At.V,narrativeOn:!n})}},n?"explore the data yourself":"return to the narrative")):null,this.props.displayNarrative||this.props.showOnlyPanels?null:i.a.createElement(pe,{width:Object(hn.a)(a,1)}),this.props.panelsToDisplay.includes("tree")?i.a.createElement(de,{width:this.inGrid()?m.width:y.width,height:this.inGrid()?m.height:y.height,key:v}):null,this.props.panelsToDisplay.includes("measurements")?i.a.createElement(o.Suspense,{fallback:i.a.createElement(eu.a,{width:this.inGrid()?m.width:y.width,height:this.inGrid()?m.height:y.height,key:v+"_measurements_spinner"})},i.a.createElement(Tu,{width:this.inGrid()?m.width:y.width,height:this.inGrid()?m.height:y.height,key:v+"_measurements",showLegend:this.shouldShowMeasurementsLegend()})):null,this.props.panelsToDisplay.includes("map")?i.a.createElement(_t,{width:this.shouldMapBeInGrid()?m.width:y.width,height:this.shouldMapBeInGrid()?m.height:y.height,key:v+"_map",justGotNewDatasetRenderNewMap:!1,legend:this.shouldShowMapLegend()}):null,this.props.panelsToDisplay.includes("entropy")?i.a.createElement(o.Suspense,{fallback:null},i.a.createElement(xu,{width:b.width,height:b.height,key:v+"_entropy"})):null,this.props.panelsToDisplay.includes("frequencies")&&this.props.frequenciesLoaded?i.a.createElement(o.Suspense,{fallback:null},i.a.createElement(Cu,{width:b.width,height:b.height,key:v+"_frequencies"})):null,this.props.displayNarrative||this.props.showOnlyPanels?null:i.a.createElement(Dt.a,{width:Object(hn.a)(a,1)}),this.props.displayNarrative?null:i.a.createElement(It.b,{width:Object(hn.a)(a,1)}),this.props.displayNarrative&&this.props.panelsToDisplay.includes("MainDisplayMarkdown")?i.a.createElement(ru,{width:Object(hn.a)(a,1)}):null),this.state.mobileDisplay?i.a.createElement("div",{style:u,onClick:d,onTouchStart:d}):null)}}])&&gu(t.prototype,n),r&&gu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.a.Component),"propTypes",{dispatch:l.a.func.isRequired}),yu=mu))||yu;t.default=Eu},859:function(e,t,n){e.exports=n.p+"1ffc23cfee00e9e13194f13f3a7ce418.svg"},860:function(e,t,n){"use strict";var r=n(1),o=n.n(r),i=n(797),a=n(818),l=n(827),s=function(e){var t=e.navHeight,n=e.navWidth,r=e.display,i=e.onClick,a={position:"fixed",left:n?n-12:-12,visibility:r?"visible":"hidden",width:r?12:0,top:t/2-8,backgroundColor:"inherit",boxShadow:"none",cursor:"pointer",borderRadius:"0px",fontSize:12,color:"#444",textAlign:"center",verticalAlign:"middle"};return o.a.createElement("div",{style:a,onClick:i},o.a.createElement(l.d,null))},c=n(859),u=i.c.div.withConfig({displayName:"content__AuspiceNavBarContainer",componentId:"sc-jg0fvy-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;height:100%;"]),p=i.c.a.withConfig({displayName:"content__Title",componentId:"sc-jg0fvy-1"})(["padding:0px;text-decoration:none;color:",";font-size:20px;font-weight:400;cursor:pointer;letter-spacing:1rem;"],(function(e){return e.theme.color})),f=i.c.a.withConfig({displayName:"content__LogoLink",componentId:"sc-jg0fvy-2"})(["padding:5px 5px;width:50px;cursor:pointer;"]),d=i.c.div.withConfig({displayName:"content__NarrativeTitle",componentId:"sc-jg0fvy-3"})(["white-space:nowrap;font-size:1.7rem;margin-left:auto;padding:0px 12px;float:right;color:",";max-width:","px;overflow:hidden;text-overflow:ellipsis;"],(function(e){return e.theme.color}),(function(e){return e.width-90})),h=n(836),y=i.c.div.withConfig({displayName:"navBar__NavBarContainer",componentId:"sc-ygpsg-0"})(["left:0;max-width:960px;margin-top:auto;margin-right:auto;margin-bottom:auto;margin-left:auto;height:","px;justify-content:space-between;align-items:center;overflow:hidden;z-index:100;transition:left .3s ease-out;"],(function(e){return e.narrative?a.H:a.I})),m=Object(h.b)("navbarComponent")?Object(h.a)("navbarComponent"):function(e){var t=e.narrativeTitle,n=e.sidebar,r=e.width;return n?o.a.createElement(u,null,o.a.createElement("div",{style:{flex:1}}),o.a.createElement(f,{href:"/"},o.a.createElement("img",{alt:"splashPage",width:"40px",src:c})),o.a.createElement("div",{style:{flex:1}}),function(e,t){return e?o.a.createElement(d,{width:t,href:"/"},e):o.a.createElement(p,{href:"/"},"auspice")}(t,r),o.a.createElement("div",{style:{flex:1}})):null};t.a=function(e){var t=e.sidebar,n=e.toggleHandler,r=e.narrativeTitle,i=e.width,l=t&&!r;return o.a.createElement(y,null,o.a.createElement(m,{narrativeTitle:r,sidebar:t,width:i}),o.a.createElement(s,{navHeight:a.I,navWidth:i,display:l,onClick:n}))}},868:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r=function(e,t){return t*(e-(1===t?40:100))},o=function(e){var t=e.horizontal,n=e.vertical,r=e.availableWidth,o=e.availableHeight,i=e.minHeight,a=void 0===i?void 0:i,l=e.maxAspectRatio,s=void 0===l?void 0:l,c=t*(r-(1===t?40:100)),u=n*o-52;return s&&u>s*c&&(u=s*c),a&&u<a&&(u=a),{width:c,height:u}}},881:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(868),o=n(818),i=function(e,t,n,o){var i=.36,a=.88,l=.64;if(t){var s=!0+e.includes("entropy")+e.includes("frequencies")-1;0===s?(a=1,l=1):1===s?(a=.7,l=.7,i=.3):(a=.5,l=.5,i=.25)}return{full:Object(r.b)({horizontal:1,vertical:a,availableWidth:n,availableHeight:o}),grid:Object(r.b)({horizontal:.5,vertical:l,availableWidth:n,availableHeight:o}),chart:Object(r.b)({horizontal:1,vertical:i,availableWidth:n,availableHeight:o,minHeight:150})}},a=function(e,t,n,r){var i,a=e.width,l=e.height,s=(i=a,t?i>1500?500:i>1e3?400:310:o.l+o.k),c=n?s:0;return r||(a-=c),{overlayStyles:{position:"absolute",top:0,bottom:0,right:0,display:"block",width:a,height:l,left:n?c:0,opacity:n?1:0,visibility:n?"visible":"hidden",zIndex:8e3,backgroundColor:"rgba(0,0,0,0.5)",cursor:"pointer",overflow:"scroll",transition:n?"visibility 0s ease-out, left 0.3s ease-out, opacity 0.3s ease-out":"left 0.3s ease-out, opacity 0.3s ease-out, visibility 0s ease-out 0.3s"},availableWidth:a,availableHeight:l,sidebarWidth:s}}},912:function(e,t,n){var r=n(913);e.exports=function(e,t,n){var o=r(e,t,(t-e)/(n-1));return o.length==n?o:o.concat(t)}},913:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=/^(?:0|[1-9]\d*)$/,s=parseInt;var c=Object.prototype.toString,u=Math.ceil,p=Math.max;var f,d=(f="length",function(e){return null==e?void 0:e[f]});function h(e){var t=y(e)?c.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function y(e){var t=n(e);return!!e&&("object"==t||"function"==t)}function m(e){return"symbol"==n(e)||function(e){return!!e&&"object"==n(e)}(e)&&"[object Symbol]"==c.call(e)}function b(e){return e?(e=function(e){if("number"==typeof e)return e;if(m(e))return NaN;if(y(e)){var t=h(e.valueOf)?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):o.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}var v,g=function(e,t,r){return r&&"number"!=typeof r&&function(e,t,r){if(!y(r))return!1;var o=n(t);return!!("number"==o?function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(d(e))&&!h(e)}(r)&&function(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||l.test(e))&&e>-1&&e%1==0&&e<t}(t,r.length):"string"==o&&t in r)&&function(e,t){return e===t||e!=e&&t!=t}(r[t],e)}(e,t,r)&&(t=r=void 0),e=b(e),void 0===t?(t=e,e=0):t=b(t),function(e,t,n,r){for(var o=-1,i=p(u((t-e)/(n||1)),0),a=Array(i);i--;)a[r?i:++o]=e,e+=n;return a}(e,t,r=void 0===r?e<t?1:-1:b(r),v)};e.exports=g},914:function(e,t){e.exports=function(e){if(!Array.isArray(e))throw new Error("Array expected");if(!e.length)return[];for(var t,n,r,o,i,a=[],l=e.length,s=[],c=[],u=1,p=l;p--;)c[p]=0,s[p]=e[p].length,u*=s[p];for(t=0;t<u;t++){for(r=[],i=!0,o=0;o<l;o++)n=c[o],r.push(e[o][n]),i&&(n=(n+1)%s[o],c[o]=n,i=0==n);a.push(r)}return a}},915:function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}if("object"!=r(t)||void 0===t)var o={};else o=e.exports={};!function(e,t){var n=new Array(50);function r(e,t){return null!=n[e]&&null!=n[e][t]}function o(e,t){return n[e][t]}function i(e,t,r){n.length<e?(n.length=e,n[e]=new Array(t+5)):void 0===n[e]&&(n[e]=new Array(t)),n[e].length<t&&(n[e]=new Array(t+5)),n[e][t]=r}e.get=function(e,t){if(0===t)return 1;if(0===e||t>e)return 0;if(t>e-t&&(t=e-t),r(e,t))return o(e,t);for(var n=1,a=e,l=1;l<=t;l++)r(a,l)?(e--,n=o(a,l)):(n*=e--,i(a,l,n/=l));return n},e.get_no_memo=function(e,t){if(0===t)return 1;if(0===e||t>e)return 0;t>e-t&&(t=e-t);for(var n=1,r=1;r<=t;r++)n*=e--,n/=r;return n}}(o)},916:function(e,t,n){var r=n(917);"string"==typeof r&&(r=[[e.i,r,""]]);n(235)(r,{});r.locals&&(e.exports=r.locals)},917:function(e,t,n){(e.exports=n(338)(!1)).push([e.i,"/* Following class taken from https://docs.mapbox.com/help/how-mapbox-works/attribution/#other-mapping-frameworks */\n.mapbox-wordmark {\n\tposition: absolute;\n\tdisplay: block;\n\tmargin: 5px;\n\theight: 20px;\n\twidth: 65px;\n\tbottom: 0;\n\ttext-indent: -9999%;\n\tz-index: 99999;\n\toverflow: hidden;\n\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODAuNDcgMjAuMDIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDgwLjQ3IDIwLjAyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe29wYWNpdHk6MC42O2ZpbGw6I0ZGRkZGRjtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30uc3Qxe29wYWNpdHk6MC42O2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fTwvc3R5bGU+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTc5LjI5LDEzLjYxYzAsMC4xMS0wLjA5LDAuMi0wLjIsMC4yaC0xLjUzYy0wLjEyLDAtMC4yMy0wLjA2LTAuMjktMC4xNmwtMS4zNy0yLjI4bC0xLjM3LDIuMjhjLTAuMDYsMC4xLTAuMTcsMC4xNi0wLjI5LDAuMTZoLTEuNTNjLTAuMDQsMC0wLjA4LTAuMDEtMC4xMS0wLjAzYy0wLjA5LTAuMDYtMC4xMi0wLjE4LTAuMDYtMC4yN2MwLDAsMCwwLDAsMGwyLjMxLTMuNWwtMi4yOC0zLjQ3Yy0wLjAyLTAuMDMtMC4wMy0wLjA3LTAuMDMtMC4xMWMwLTAuMTEsMC4wOS0wLjIsMC4yLTAuMmgxLjUzYzAuMTIsMCwwLjIzLDAuMDYsMC4yOSwwLjE2bDEuMzQsMi4yNWwxLjMzLTIuMjRjMC4wNi0wLjEsMC4xNy0wLjE2LDAuMjktMC4xNmgxLjUzYzAuMDQsMCwwLjA4LDAuMDEsMC4xMSwwLjAzYzAuMDksMC4wNiwwLjEyLDAuMTgsMC4wNiwwLjI3YzAsMCwwLDAsMCwwTDc2Ljk2LDEwbDIuMzEsMy41Qzc5LjI4LDEzLjUzLDc5LjI5LDEzLjU3LDc5LjI5LDEzLjYxeiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02My4wOSw5LjE2Yy0wLjM3LTEuNzktMS44Ny0zLjEyLTMuNjYtMy4xMmMtMC45OCwwLTEuOTMsMC40LTIuNiwxLjEyVjMuMzdjMC0wLjEyLTAuMS0wLjIyLTAuMjItMC4yMmgtMS4zM2MtMC4xMiwwLTAuMjIsMC4xLTAuMjIsMC4yMnYxMC4yMWMwLDAuMTIsMC4xLDAuMjIsMC4yMiwwLjIyaDEuMzNjMC4xMiwwLDAuMjItMC4xLDAuMjItMC4yMnYtMC43YzAuNjgsMC43MSwxLjYyLDEuMTIsMi42LDEuMTJjMS43OSwwLDMuMjktMS4zNCwzLjY2LTMuMTNDNjMuMjEsMTAuMyw2My4yMSw5LjcyLDYzLjA5LDkuMTZMNjMuMDksOS4xNnogTTU5LjEyLDEyLjQxYy0xLjI2LDAtMi4yOC0xLjA2LTIuMy0yLjM2VjkuOTljMC4wMi0xLjMxLDEuMDQtMi4zNiwyLjMtMi4zNnMyLjMsMS4wNywyLjMsMi4zOVM2MC4zOSwxMi40MSw1OS4xMiwxMi40MXoiLz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjguMjYsNi4wNGMtMS44OS0wLjAxLTMuNTQsMS4yOS0zLjk2LDMuMTNjLTAuMTIsMC41Ni0wLjEyLDEuMTMsMCwxLjY5YzAuNDIsMS44NSwyLjA3LDMuMTYsMy45NywzLjE0YzIuMjQsMCw0LjA2LTEuNzgsNC4wNi0zLjk5UzcwLjUxLDYuMDQsNjguMjYsNi4wNHogTTY4LjI0LDEyLjQyYy0xLjI3LDAtMi4zLTEuMDctMi4zLTIuMzlzMS4wMy0yLjQsMi4zLTIuNHMyLjMsMS4wNywyLjMsMi4zOVM2OS41MSwxMi40MSw2OC4yNCwxMi40Mkw2OC4yNCwxMi40MnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNTkuMTIsNy42M2MtMS4yNiwwLTIuMjgsMS4wNi0yLjMsMi4zNnYwLjA2YzAuMDIsMS4zMSwxLjA0LDIuMzYsMi4zLDIuMzZzMi4zLTEuMDcsMi4zLTIuMzlTNjAuMzksNy42Myw1OS4xMiw3LjYzeiBNNTkuMTIsMTEuMjNjLTAuNiwwLTEuMDktMC41My0xLjExLTEuMTlWMTBjMC4wMS0wLjY2LDAuNTEtMS4xOSwxLjExLTEuMTlzMS4xMSwwLjU0LDEuMTEsMS4yMVM1OS43NCwxMS4yMyw1OS4xMiwxMS4yM3oiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNjguMjQsNy42M2MtMS4yNywwLTIuMywxLjA3LTIuMywyLjM5czEuMDMsMi4zOSwyLjMsMi4zOXMyLjMtMS4wNywyLjMtMi4zOVM2OS41MSw3LjYzLDY4LjI0LDcuNjN6IE02OC4yNCwxMS4yM2MtMC42MSwwLTEuMTEtMC41NC0xLjExLTEuMjFzMC41LTEuMiwxLjExLTEuMnMxLjExLDAuNTQsMS4xMSwxLjIxUzY4Ljg1LDExLjIzLDY4LjI0LDExLjIzeiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00My41Niw2LjI0aC0xLjMzYy0wLjEyLDAtMC4yMiwwLjEtMC4yMiwwLjIydjAuN2MtMC42OC0wLjcxLTEuNjItMS4xMi0yLjYtMS4xMmMtMi4wNywwLTMuNzUsMS43OC0zLjc1LDMuOTlzMS42OSwzLjk5LDMuNzUsMy45OWMwLjk5LDAsMS45My0wLjQxLDIuNi0xLjEzdjAuN2MwLDAuMTIsMC4xLDAuMjIsMC4yMiwwLjIyaDEuMzNjMC4xMiwwLDAuMjItMC4xLDAuMjItMC4yMlY2LjQ0YzAtMC4xMS0wLjA5LTAuMjEtMC4yMS0wLjIxQzQzLjU3LDYuMjQsNDMuNTcsNi4yNCw0My41Niw2LjI0eiBNNDIuMDIsMTAuMDVjLTAuMDEsMS4zMS0xLjA0LDIuMzYtMi4zLDIuMzZzLTIuMy0xLjA3LTIuMy0yLjM5czEuMDMtMi40LDIuMjktMi40YzEuMjcsMCwyLjI4LDEuMDYsMi4zLDIuMzZMNDIuMDIsMTAuMDV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTM5LjcyLDcuNjNjLTEuMjcsMC0yLjMsMS4wNy0yLjMsMi4zOXMxLjAzLDIuMzksMi4zLDIuMzlzMi4yOC0xLjA2LDIuMy0yLjM2VjkuOTlDNDIsOC42OCw0MC45OCw3LjYzLDM5LjcyLDcuNjN6IE0zOC42MiwxMC4wMmMwLTAuNjcsMC41LTEuMjEsMS4xMS0xLjIxYzAuNjEsMCwxLjA5LDAuNTMsMS4xMSwxLjE5djAuMDRjLTAuMDEsMC42NS0wLjUsMS4xOC0xLjExLDEuMThTMzguNjIsMTAuNjgsMzguNjIsMTAuMDJ6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTQ5LjkxLDYuMDRjLTAuOTgsMC0xLjkzLDAuNC0yLjYsMS4xMlY2LjQ1YzAtMC4xMi0wLjEtMC4yMi0wLjIyLTAuMjJoLTEuMzNjLTAuMTIsMC0wLjIyLDAuMS0wLjIyLDAuMjJ2MTAuMjFjMCwwLjEyLDAuMSwwLjIyLDAuMjIsMC4yMmgxLjMzYzAuMTIsMCwwLjIyLTAuMSwwLjIyLTAuMjJ2LTMuNzhjMC42OCwwLjcxLDEuNjIsMS4xMiwyLjYxLDEuMTJjMi4wNywwLDMuNzUtMS43OCwzLjc1LTMuOTlTNTEuOTgsNi4wNCw0OS45MSw2LjA0eiBNNDkuNiwxMi40MmMtMS4yNiwwLTIuMjgtMS4wNi0yLjMtMi4zNlY5Ljk5YzAuMDItMS4zMSwxLjA0LTIuMzcsMi4yOS0yLjM3YzEuMjYsMCwyLjMsMS4wNywyLjMsMi4zOVM1MC44NiwxMi40MSw0OS42LDEyLjQyTDQ5LjYsMTIuNDJ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTQ5LjYsNy42M2MtMS4yNiwwLTIuMjgsMS4wNi0yLjMsMi4zNnYwLjA2YzAuMDIsMS4zMSwxLjA0LDIuMzYsMi4zLDIuMzZzMi4zLTEuMDcsMi4zLTIuMzlTNTAuODYsNy42Myw0OS42LDcuNjN6IE00OS42LDExLjIzYy0wLjYsMC0xLjA5LTAuNTMtMS4xMS0xLjE5VjEwQzQ4LjUsOS4zNCw0OSw4LjgxLDQ5LjYsOC44MWMwLjYsMCwxLjExLDAuNTUsMS4xMSwxLjIxUzUwLjIxLDExLjIzLDQ5LjYsMTEuMjN6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTM0LjM2LDEzLjU5YzAsMC4xMi0wLjEsMC4yMi0wLjIyLDAuMjJoLTEuMzRjLTAuMTIsMC0wLjIyLTAuMS0wLjIyLTAuMjJWOS4yNGMwLTAuOTMtMC43LTEuNjMtMS41NC0xLjYzYy0wLjc2LDAtMS4zOSwwLjY3LTEuNTEsMS41NGwwLjAxLDQuNDRjMCwwLjEyLTAuMSwwLjIyLTAuMjIsMC4yMmgtMS4zNGMtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY5LjI0YzAtMC45My0wLjctMS42My0xLjU0LTEuNjNjLTAuODEsMC0xLjQ3LDAuNzUtMS41MiwxLjcxdjQuMjdjMCwwLjEyLTAuMSwwLjIyLTAuMjIsMC4yMmgtMS4zM2MtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY2LjQ0YzAuMDEtMC4xMiwwLjEtMC4yMSwwLjIyLTAuMjFoMS4zM2MwLjEyLDAsMC4yMSwwLjEsMC4yMiwwLjIxdjAuNjNjMC40OC0wLjY1LDEuMjQtMS4wNCwyLjA2LTEuMDVoMC4wM2MxLjA0LDAsMS45OSwwLjU3LDIuNDgsMS40OGMwLjQzLTAuOSwxLjMzLTEuNDgsMi4zMi0xLjQ5YzEuNTQsMCwyLjc5LDEuMTksMi43NiwyLjY1TDM0LjM2LDEzLjU5eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MC4zMiwxMi45N2wtMC4wNy0wLjEyTDc4LjM4LDEwbDEuODUtMi44MWMwLjQyLTAuNjQsMC4yNS0xLjQ5LTAuMzktMS45MmMtMC4wMS0wLjAxLTAuMDItMC4wMS0wLjAzLTAuMDJjLTAuMjItMC4xNC0wLjQ4LTAuMjEtMC43NC0wLjIxaC0xLjUzYy0wLjUzLDAtMS4wMywwLjI4LTEuMywwLjc0bC0wLjMyLDAuNTNsLTAuMzItMC41M2MtMC4yOC0wLjQ2LTAuNzctMC43NC0xLjMxLTAuNzRoLTEuNTNjLTAuNTcsMC0xLjA4LDAuMzUtMS4yOSwwLjg4Yy0yLjA5LTEuNTgtNS4wMy0xLjQtNi45MSwwLjQzYy0wLjMzLDAuMzItMC42MiwwLjY5LTAuODUsMS4wOWMtMC44NS0xLjU1LTIuNDUtMi42LTQuMjgtMi42Yy0wLjQ4LDAtMC45NiwwLjA3LTEuNDEsMC4yMlYzLjM3YzAtMC43OC0wLjYzLTEuNDEtMS40LTEuNDFoLTEuMzNjLTAuNzcsMC0xLjQsMC42My0xLjQsMS40djMuNTdjLTAuOS0xLjMtMi4zOC0yLjA4LTMuOTctMi4wOWMtMC43LDAtMS4zOSwwLjE1LTIuMDIsMC40NWMtMC4yMy0wLjE2LTAuNTEtMC4yNS0wLjgtMC4yNWgtMS4zM2MtMC40MywwLTAuODMsMC4yLTEuMSwwLjUzYy0wLjAyLTAuMDMtMC4wNC0wLjA1LTAuMDctMC4wOGMtMC4yNy0wLjI5LTAuNjUtMC40NS0xLjA0LTAuNDVoLTEuMzJjLTAuMjksMC0wLjU3LDAuMDktMC44LDAuMjVDNDAuOCw1LDQwLjEyLDQuODUsMzkuNDIsNC44NWMtMS43NCwwLTMuMjcsMC45NS00LjE2LDIuMzhjLTAuMTktMC40NC0wLjQ2LTAuODUtMC43OS0xLjE5Yy0wLjc2LTAuNzctMS44LTEuMTktMi44OC0xLjE5aC0wLjAxYy0wLjg1LDAuMDEtMS42NywwLjMxLTIuMzQsMC44NGMtMC43LTAuNTQtMS41Ni0wLjg0LTIuNDUtMC44NGgtMC4wM2MtMC4yOCwwLTAuNTUsMC4wMy0wLjgyLDAuMWMtMC4yNywwLjA2LTAuNTMsMC4xNS0wLjc4LDAuMjdjLTAuMi0wLjExLTAuNDMtMC4xNy0wLjY3LTAuMTdoLTEuMzNjLTAuNzgsMC0xLjQsMC42My0xLjQsMS40djcuMTRjMCwwLjc4LDAuNjMsMS40LDEuNCwxLjRoMS4zM2MwLjc4LDAsMS40MS0wLjYzLDEuNDEtMS40MWMwLDAsMCwwLDAsMFY5LjM1YzAuMDMtMC4zNCwwLjIyLTAuNTYsMC4zNC0wLjU2YzAuMTcsMCwwLjM2LDAuMTcsMC4zNiwwLjQ1djQuMzVjMCwwLjc4LDAuNjMsMS40LDEuNCwxLjRoMS4zNGMwLjc4LDAsMS40LTAuNjMsMS40LTEuNGwtMC4wMS00LjM1YzAuMDYtMC4zLDAuMjQtMC40NSwwLjMzLTAuNDVjMC4xNywwLDAuMzYsMC4xNywwLjM2LDAuNDV2NC4zNWMwLDAuNzgsMC42MywxLjQsMS40LDEuNGgxLjM0YzAuNzgsMCwxLjQtMC42MywxLjQtMS40di0wLjM2YzAuOTEsMS4yMywyLjM0LDEuOTYsMy44NywxLjk2YzAuNywwLDEuMzktMC4xNSwyLjAyLTAuNDVjMC4yMywwLjE2LDAuNTEsMC4yNSwwLjgsMC4yNWgxLjMyYzAuMjksMCwwLjU3LTAuMDksMC44LTAuMjV2MS45MWMwLDAuNzgsMC42MywxLjQsMS40LDEuNGgxLjMzYzAuNzgsMCwxLjQtMC42MywxLjQtMS40di0xLjY5YzAuNDYsMC4xNCwwLjk0LDAuMjIsMS40MiwwLjIxYzEuNjIsMCwzLjA3LTAuODMsMy45Ny0yLjF2MC41YzAsMC43OCwwLjYzLDEuNCwxLjQsMS40aDEuMzNjMC4yOSwwLDAuNTctMC4wOSwwLjgtMC4yNWMwLjYzLDAuMywxLjMyLDAuNDUsMi4wMiwwLjQ1YzEuODMsMCwzLjQzLTEuMDUsNC4yOC0yLjZjMS40NywyLjUyLDQuNzEsMy4zNiw3LjIyLDEuODljMC4xNy0wLjEsMC4zNC0wLjIxLDAuNS0wLjM0YzAuMjEsMC41MiwwLjcyLDAuODcsMS4yOSwwLjg2aDEuNTNjMC41MywwLDEuMDMtMC4yOCwxLjMtMC43NGwwLjM1LTAuNThsMC4zNSwwLjU4YzAuMjgsMC40NiwwLjc3LDAuNzQsMS4zMSwwLjc0aDEuNTJjMC43NywwLDEuMzktMC42MywxLjM4LTEuMzlDODAuNDcsMTMuMzgsODAuNDIsMTMuMTcsODAuMzIsMTIuOTdMODAuMzIsMTIuOTd6IE0zNC4xNSwxMy44MWgtMS4zNGMtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY5LjI0YzAtMC45My0wLjctMS42My0xLjU0LTEuNjNjLTAuNzYsMC0xLjM5LDAuNjctMS41MSwxLjU0bDAuMDEsNC40NGMwLDAuMTItMC4xLDAuMjItMC4yMiwwLjIyaC0xLjM0Yy0wLjEyLDAtMC4yMi0wLjEtMC4yMi0wLjIyVjkuMjRjMC0wLjkzLTAuNy0xLjYzLTEuNTQtMS42M2MtMC44MSwwLTEuNDcsMC43NS0xLjUyLDEuNzF2NC4yN2MwLDAuMTItMC4xLDAuMjItMC4yMiwwLjIyaC0xLjMzYy0wLjEyLDAtMC4yMi0wLjEtMC4yMi0wLjIyVjYuNDRjMC4wMS0wLjEyLDAuMS0wLjIxLDAuMjItMC4yMWgxLjMzYzAuMTIsMCwwLjIxLDAuMSwwLjIyLDAuMjF2MC42M2MwLjQ4LTAuNjUsMS4yNC0xLjA0LDIuMDYtMS4wNWgwLjAzYzEuMDQsMCwxLjk5LDAuNTcsMi40OCwxLjQ4YzAuNDMtMC45LDEuMzMtMS40OCwyLjMyLTEuNDljMS41NCwwLDIuNzksMS4xOSwyLjc2LDIuNjVsMC4wMSw0LjkxQzM0LjM3LDEzLjcsMzQuMjcsMTMuOCwzNC4xNSwxMy44MUMzNC4xNSwxMy44MSwzNC4xNSwxMy44MSwzNC4xNSwxMy44MXogTTQzLjc4LDEzLjU5YzAsMC4xMi0wLjEsMC4yMi0wLjIyLDAuMjJoLTEuMzNjLTAuMTIsMC0wLjIyLTAuMS0wLjIyLTAuMjJ2LTAuNzFDNDEuMzQsMTMuNiw0MC40LDE0LDM5LjQyLDE0Yy0yLjA3LDAtMy43NS0xLjc4LTMuNzUtMy45OXMxLjY5LTMuOTksMy43NS0zLjk5YzAuOTgsMCwxLjkyLDAuNDEsMi42LDEuMTJ2LTAuN2MwLTAuMTIsMC4xLTAuMjIsMC4yMi0wLjIyaDEuMzNjMC4xMS0wLjAxLDAuMjEsMC4wOCwwLjIyLDAuMmMwLDAuMDEsMCwwLjAxLDAsMC4wMlYxMy41OXogTTQ5LjkxLDE0Yy0wLjk4LDAtMS45Mi0wLjQxLTIuNi0xLjEydjMuNzhjMCwwLjEyLTAuMSwwLjIyLTAuMjIsMC4yMmgtMS4zM2MtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY2LjQ1YzAtMC4xMiwwLjEtMC4yMSwwLjIyLTAuMjFoMS4zM2MwLjEyLDAsMC4yMiwwLjEsMC4yMiwwLjIydjAuN2MwLjY4LTAuNzIsMS42Mi0xLjEyLDIuNi0xLjEyYzIuMDcsMCwzLjc1LDEuNzcsMy43NSwzLjk4UzUxLjk4LDE0LDQ5LjkxLDE0eiBNNjMuMDksMTAuODdDNjIuNzIsMTIuNjUsNjEuMjIsMTQsNTkuNDMsMTRjLTAuOTgsMC0xLjkyLTAuNDEtMi42LTEuMTJ2MC43YzAsMC4xMi0wLjEsMC4yMi0wLjIyLDAuMjJoLTEuMzNjLTAuMTIsMC0wLjIyLTAuMS0wLjIyLTAuMjJWMy4zN2MwLTAuMTIsMC4xLTAuMjIsMC4yMi0wLjIyaDEuMzNjMC4xMiwwLDAuMjIsMC4xLDAuMjIsMC4yMnYzLjc4YzAuNjgtMC43MSwxLjYyLTEuMTIsMi42LTEuMTFjMS43OSwwLDMuMjksMS4zMywzLjY2LDMuMTJDNjMuMjEsOS43Myw2My4yMSwxMC4zMSw2My4wOSwxMC44N0w2My4wOSwxMC44N0w2My4wOSwxMC44N3ogTTY4LjI2LDE0LjAxYy0xLjksMC4wMS0zLjU1LTEuMjktMy45Ny0zLjE0Yy0wLjEyLTAuNTYtMC4xMi0xLjEzLDAtMS42OWMwLjQyLTEuODUsMi4wNy0zLjE1LDMuOTctMy4xNGMyLjI1LDAsNC4wNiwxLjc4LDQuMDYsMy45OVM3MC41LDE0LjAxLDY4LjI2LDE0LjAxTDY4LjI2LDE0LjAxeiBNNzkuMDksMTMuODFoLTEuNTNjLTAuMTIsMC0wLjIzLTAuMDYtMC4yOS0wLjE2bC0xLjM3LTIuMjhsLTEuMzcsMi4yOGMtMC4wNiwwLjEtMC4xNywwLjE2LTAuMjksMC4xNmgtMS41M2MtMC4wNCwwLTAuMDgtMC4wMS0wLjExLTAuMDNjLTAuMDktMC4wNi0wLjEyLTAuMTgtMC4wNi0wLjI3YzAsMCwwLDAsMCwwbDIuMzEtMy41bC0yLjI4LTMuNDdjLTAuMDItMC4wMy0wLjAzLTAuMDctMC4wMy0wLjExYzAtMC4xMSwwLjA5LTAuMiwwLjItMC4yaDEuNTNjMC4xMiwwLDAuMjMsMC4wNiwwLjI5LDAuMTZsMS4zNCwyLjI1bDEuMzQtMi4yNWMwLjA2LTAuMSwwLjE3LTAuMTYsMC4yOS0wLjE2aDEuNTNjMC4wNCwwLDAuMDgsMC4wMSwwLjExLDAuMDNjMC4wOSwwLjA2LDAuMTIsMC4xOCwwLjA2LDAuMjdjMCwwLDAsMCwwLDBMNzYuOTYsMTBsMi4zMSwzLjVjMC4wMiwwLjAzLDAuMDMsMC4wNywwLjAzLDAuMTFDNzkuMjksMTMuNzIsNzkuMiwxMy44MSw3OS4wOSwxMy44MUM3OS4wOSwxMy44MSw3OS4wOSwxMy44MSw3OS4wOSwxMy44MUw3OS4wOSwxMy44MXoiLz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTAsMS4yMWMtNC44NywwLTguODEsMy45NS04LjgxLDguODFzMy45NSw4LjgxLDguODEsOC44MXM4LjgxLTMuOTUsOC44MS04LjgxQzE4LjgxLDUuMTUsMTQuODcsMS4yMSwxMCwxLjIxeiBNMTQuMTgsMTIuMTljLTEuODQsMS44NC00LjU1LDIuMi02LjM4LDIuMmMtMC42NywwLTEuMzQtMC4wNS0yLTAuMTVjMCwwLTAuOTctNS4zNywyLjA0LTguMzljMC43OS0wLjc5LDEuODYtMS4yMiwyLjk4LTEuMjJjMS4yMSwwLDIuMzcsMC40OSwzLjIzLDEuMzVDMTUuOCw3LjczLDE1Ljg1LDEwLjUsMTQuMTgsMTIuMTl6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwLDAuMDJjLTUuNTIsMC0xMCw0LjQ4LTEwLDEwczQuNDgsMTAsMTAsMTBzMTAtNC40OCwxMC0xMEMxOS45OSw0LjUsMTUuNTIsMC4wMiwxMCwwLjAyeiBNMTAsMTguODNjLTQuODcsMC04LjgxLTMuOTUtOC44MS04LjgxUzUuMTMsMS4yLDEwLDEuMnM4LjgxLDMuOTUsOC44MSw4LjgxQzE4LjgxLDE0Ljg5LDE0Ljg3LDE4LjgzLDEwLDE4LjgzeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNC4wNCw1Ljk4Yy0xLjc1LTEuNzUtNC41My0xLjgxLTYuMi0wLjE0QzQuODMsOC44Niw1LjgsMTQuMjMsNS44LDE0LjIzczUuMzcsMC45Nyw4LjM5LTIuMDRDMTUuODUsMTAuNSwxNS44LDcuNzMsMTQuMDQsNS45OHogTTExLjg4LDkuODdsLTAuODcsMS43OGwtMC44Ni0xLjc4TDguMzgsOS4wMWwxLjc3LTAuODZsMC44Ni0xLjc4bDAuODcsMS43OGwxLjc3LDAuODZMMTEuODgsOS44N3oiLz48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEzLjY1LDkuMDEgMTEuODgsOS44NyAxMS4wMSwxMS42NSAxMC4xNSw5Ljg3IDguMzgsOS4wMSAxMC4xNSw4LjE1IDExLjAxLDYuMzcgMTEuODgsOC4xNSAiLz48L2c+PC9zdmc+);\n\tbackground-repeat: no-repeat;\n\tbackground-position: 0 0;\n  background-size: 65px 20px;\n  cursor: pointer;\n}",""])},919:function(e,t,n){var r={"./ar/language.json":981,"./ar/sidebar.json":982,"./ar/translation.json":983,"./de/language.json":984,"./de/sidebar.json":985,"./de/translation.json":986,"./en/language.json":906,"./en/sidebar.json":907,"./en/translation.json":908,"./es/language.json":987,"./es/sidebar.json":988,"./es/translation.json":989,"./fr/language.json":990,"./fr/sidebar.json":991,"./fr/translation.json":992,"./it/language.json":993,"./it/sidebar.json":994,"./it/translation.json":995,"./ja/language.json":996,"./ja/sidebar.json":997,"./ja/translation.json":998,"./lt/language.json":999,"./lt/sidebar.json":1e3,"./lt/translation.json":1001,"./pl/language.json":1002,"./pl/sidebar.json":1003,"./pl/translation.json":1004,"./pt/language.json":1005,"./pt/sidebar.json":1006,"./pt/translation.json":1007,"./ru/language.json":1008,"./ru/sidebar.json":1009,"./ru/translation.json":1010,"./tr/language.json":1011,"./tr/sidebar.json":1012,"./tr/translation.json":1013};function o(e){return i(e).then((function(e){return n.t(e,3)}))}function i(e){return n.e(4).then((function(){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}))}o.keys=function(){return Object.keys(r)},o.resolve=i,o.id=919,e.exports=o}}]);